!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.nigmajs=e():t.nigmajs=e()}(this,()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.r(e),t.d(e,{BasicCipher:()=>r,Columnar:()=>b,Dictionary:()=>F,Enigma:()=>ft,Shift:()=>it,default:()=>st});var r=function(){function t(e,n,r,o,i,c){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getMsg=function(){return a.message},this.getEncoded=function(){return a.encoded},this.getMethod=function(){return a.method},this.getKey=function(){return a.key},this.getAlphabet=function(){return a.alphabet},this.shiftCharacters=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(e)>26&&(e%=26),e<0&&(e+=26);for(var n="",r=0;r<t.length;r+=1){var o=t[r];if(o.match(/[a-z]/i)){var i=t.charCodeAt(r);i>=65&&i<=90?o=String.fromCharCode((i-65+e)%26+65):i>=97&&i<=122&&(o=String.fromCharCode((i-97+e)%26+97))}n+=o}return n},this.text2block=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t,r=(n=n.replace(/ /g,""))[0],o=1;do{o%e===0&&(r+=" "),r+=n[o],o+=1}while(o<n.length);return r},this.encodeAlphabet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r="";return t.toLowerCase().split(" ").map(function(t){t.split("").map(function(t){var n=a.getKeyByValue(a.alphabet,t);void 0!==n&&(r+=n+e)}),e.length>0&&(r=r.slice(0,-e.length)),r+=n}),n.length>0&&(r=r.slice(0,-n.length)),r},this.decodeAlphabet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r="";return t.split(n).map(function(t){t.split(e).map(function(t){var e=a.alphabet[t];void 0!==e&&(r+=e)}),r+=" "}),r=r.slice(0,-1)},this.validateEncoded=function(){return!0===a.encoded&&null!=a.message&&""!==a.message},this.transposeMatrix=function(t){return t[0].map(function(e,n){return t.map(function(t){return t[n]})})},this.getKeyByValue=function(t,e){return Object.keys(t).find(function(n){return t[n]===e})},this.logMessage=function(t){a.debug&&console.log(t)},this.test=function(){return"NigmaJS enabled"},this.message=e,this.encoded=n,this.method=r,this.key=null!=o?o:"",this.alphabet=i,this.debug=c}var e,r;return e=t,(r=[{key:"setMsg",value:function(t){return this.message=t,this}},{key:"setEncoded",value:function(t){return this.encoded=t,this}},{key:"setMethod",value:function(t){return this.method=t,this}},{key:"setKey",value:function(t){return this.key=t,this}},{key:"setAlphabet",value:function(t){return this.alphabet=t,this}},{key:"sortColumns",value:function(t,e){return t[0]===e[0]?0:t[0]<e[0]?-1:1}}])&&n(e.prototype,r),t}(),o={A:12.5,K:.08,T:4.42,B:1.27,L:5.84,U:4,C:4.43,M:2.61,V:.98,D:5.14,N:7.09,W:.03,E:13.24,Ñ:.22,X:.19,F:.79,O:8.98,Y:.79,G:1.17,P:2.75,Z:.42,H:.81,Q:.83,I:6.91,R:6.62,J:.45,S:7.44},i={DE:2.57,AD:1.43,TA:1.09,ES:2.31,AR:1.43,TE:1,EN:2.27,RE:1.42,OR:.98,EL:2.01,AL:1.33,DO:.98,LA:1.8,AN:1.24,IO:.98,OS:1.79,NT:1.22,AC:.96,ON:1.61,UE:1.21,ST:.95,AS:1.56,CI:1.15,NA:.92,ER:1.52,CO:1.13,RO:.85,RA:1.47,SE:1.11,UN:.84},c={DEL:.75,EST:.48,PAR:.32,QUE:.74,LOS:.47,DES:.31,ENT:.67,ODE:.47,ESE:.3,ION:.56,ADO:.45,IEN:.3,ELA:.55,RES:.4,ALA:.29,CON:.54,STA:.38,POR:.29,SDE:.52,ACI:.36,ONE:.29,ADE:.51,LAS:.35,NDE:.29,CIO:.5,ARA:.34,TRA:.28,NTE:.49,ENE:.32,NES:.27},a={CION:.42,MENT:.16,NCIA:.14,DELA:.33,IONE:.16,AQUE:.14,ACIO:.27,ODEL:.16,SQUE:.14,ENTE:.25,ONDE:.16,ENCI:.13,ESTA:.22,OQUE:.15,ENLA:.13,ESDE:.22,IDAD:.15,ENTR:.13,PARA:.19,ELOS:.15,IENT:.12,ONES:.17,ADEL:.15,ASDE:.12,SDEL:.17,ANTE:.15,ENEL:.12,OSDE:.17,ENTO:.14,DELO:.12};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"validateMessage",value:function(t){if(null==t)throw new TypeError("Message cannot be null or undefined");if("string"!=typeof t)throw new TypeError("Message must be a string, got ".concat(u(t)));if(""===t.trim())throw new Error("Message cannot be empty");return!0}},{key:"validateKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if(null==t)throw new TypeError("Key cannot be null or undefined");if("number"===e&&"number"!=typeof t)throw new TypeError("Key must be a number, got ".concat(u(t)));if("string"===e&&"string"!=typeof t)throw new TypeError("Key must be a string, got ".concat(u(t)));if("number"===e&&isNaN(t))throw new TypeError("Key must be a valid number, got NaN");return!0}},{key:"validateAlphabet",value:function(t){if(null==t)throw new TypeError("Alphabet cannot be null or undefined");if("object"!==u(t))throw new TypeError("Alphabet must be an object, got ".concat(u(t)));if(Array.isArray(t))throw new TypeError("Alphabet must be an object, not an array");return!0}},{key:"validateBoolean",value:function(t){if("boolean"!=typeof t)throw new TypeError("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value"," must be a boolean, got ").concat(u(t)));return!0}}],null&&f(e.prototype,null),n&&f(e,n),t}();function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}const b={Amsco:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=y(e);if(n){var c=y(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==p(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,i,"amsco",e,"",c)).decodingConstructor=function(t,e){var r=e.split("").map(function(t){return t-1}),o=[];r.map(function(t){o.push([t])});var i=n.generateDecodingMatrix(t.length,r,1,2);return[o,i,r]},n.validateKey=function(){var t=!0,e=n.key.split("").sort(),r=/^\d+$/;if(n.logMessage("Check for [0-9] chars only: ".concat(r.test(n.key)," key analyzed : ").concat(n.key)),r.test(n.key)){n.logMessage("Numbers only Key: ".concat(e," "));var o=0;do{var i=e[o];n.logMessage("Validating ... Char ".concat(i," of type ").concat(p(i)," at ").concat(o)),i===(1+o).toString()?o+=1:(t=!1,n.logMessage("Sequence not validated"))}while(!0===t&&o<e.length)}else n.logMessage("Invalid key, Non numbers detected"),t=!1;return t},n.generateDecodingMatrix=function(t,e,n,r){var o=[],i=n||1,c=r||2;e.map(function(t){o.push([])});var a=0;do{o.forEach(function(e){a<t?t-a>i?e.push(i):e.push(t-a):e.push(0),a+=i,i=i===n?c:n}),i=i===n?c:n}while(a<t);return o},n.processMatrixDecoding=function(t,e,r){var o=0,i=1,c=0,a=t,u=e,f=r;do{var s=0,l=f.indexOf(c);do{i=o+u[l][s];var p=n.message.slice(o,i);a[l].push(p),o=i,s+=1}while(s<u[l].length);c+=1}while(c<u.length);return a},n.decode=function(){s.validateMessage(n.message);var t=[];if(!n.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");var e=n.decodingConstructor(n.message,n.key);return t=n.processMatrixDecoding(e[0],e[1],e[2]),(t=n.transposeMatrix(t)).shift(),t=(t=t.map(function(t){return t.join("")})).join(""),n.logMessage("Done decoding: ".concat(t)),t},n.encode=function(){s.validateMessage(n.message);var t="",e=[],r=[],o="";if(!n.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");t=n.message.replace(/\s+/g,"").toLocaleUpperCase();var i,c,a=n.decodingConstructor(n.message,n.key),u=(c=1,function(t){if(Array.isArray(t))return t}(i=a)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(i,c)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());e=u[0],r=n.transposeMatrix(a[1]);var f=0,p=0;return r.forEach(function(n){n.forEach(function(r){e[p].push(t.slice(f,f+r)),f+=r,p<n.length-1?p+=1:p=0})}),e.sort(n.sortFunction),e.forEach(function(t){t.shift(),o+=t.join("")}),o},n}return o}(r)};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=v(e);if(n){var c=v(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==d(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"atbash","",{4:"a",3:"b",2:"c",1:"d",0:"e",z:"f",y:"g",x:"h",w:"i",v:"j",u:"k",t:"l",s:"m",r:"n",q:"o",p:"p",o:"q",n:"r",m:"s",l:"t",k:"u",j:"v",i:"w",h:"x",g:"y",f:"z",e:"0",d:"1",c:"2",b:"3",a:"4","!":"5","?":"6",",":"7",".":"8"," ":"9",9:" ",8:".",7:",",6:"?",5:"!"},i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.encodeAlphabet(t,e.characterSep,e.wordSep)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.decodeAlphabet(t,e.characterSep,e.wordSep)},e.wordSep=" ",e.characterSep="",e}return o}(r);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=w(e);if(n){var c=w(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==S(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t,e,n,i){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(c=r.call(this,t,n,"autoKey",e,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.key,n=t.toLowerCase().replace(/[^a-z]/g,""),r=e.toLowerCase().replace(/[^a-z]/g,""),o="";if(n.length>=1&&r.length>1)for(var i=0;i<n.length;i+=1)i<r.length?o+=String.fromCharCode((n.charCodeAt(i)-97+(r.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((n.charCodeAt(i)-97+(n.charCodeAt(i-r.length)-97)+26)%26+97);return o},c.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.key,n=t.toLowerCase().replace(/[^a-z]/g,""),r=e.toLowerCase().replace(/[^a-z]/g,""),o="";if(n.length>1&&r.length>1)for(var i=0;i<n.length;i+=1)i<r.length?o+=String.fromCharCode((n.charCodeAt(i)-97-(r.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((n.charCodeAt(i)-97-(o.charCodeAt(i-r.length)-97)+26)%26+97);return o},c}return o}(r);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function A(t,e){return A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},A(t,e)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=R(e);if(n){var c=R(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==C(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"baconian","",{aaaaa:"a",aaaab:"b",aaaba:"c",aaabb:"d",aabaa:"e",aabab:"f",aabba:"g",aabbb:"h",abaaa:"i",abaab:"j",ababa:"k",ababb:"l",abbaa:"m",abbab:"n",abbba:"o",abbbb:"p",baaaa:"q",baaab:"r",baaba:"s",baabb:"t",babaa:"u",babab:"v",babba:"w",babbb:"x",bbaaa:"y",bbaab:"z"},i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.encodeAlphabet(t,e.characterSep,e.wordSep)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.decodeAlphabet(t,e.characterSep,e.wordSep)},e.wordSep="   ",e.characterSep=" ",e}return o}(r);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D(t,e){return D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},D(t,e)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=M(e);if(n){var c=M(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==_(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var f={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"};return(n=r.call(this,t,a,"simpleSubstitution",e,f,u)).getI=function(){return n.i},n.getV=function(){return n.v},n.validateKey=function(t){var e=t.replace(/\s/g,"");return e.toLowerCase()},n.validateRemovedChars=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.v;return!0===e&&106===t||!0===r&&118===t},n.putLetter2Alphabet=function(t,e,r,o){var i=r,c=o;return e.includes(t)||n.validateRemovedChars(t.charCodeAt(0))||(n.validateRemovedChars(c,n.i,n.v)&&(delete i[String.fromCharCode(c)],c+=1),i[String.fromCharCode(c)]=t,e.push(t),c+=1),[t,e,i,c]},n.alphabetConstructor=function(t,e){var r=[],o=97;e.split("").forEach(function(e){var i=P(n.putLetter2Alphabet(e,r,t,o),4);e=i[0],r=i[1],t=i[2],o=i[3]});var i=97,c="";do{c=String.fromCharCode(i);var a=P(n.putLetter2Alphabet(c,r,t,o),4);c=a[0],r=a[1],t=a[2],o=a[3],i+=1}while(o<123);return t},n.encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.message;return s.validateMessage(t),n.encodeAlphabet(t,n.characterSep,n.wordSep)},n.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.message;return s.validateMessage(t),n.decodeAlphabet(t,n.characterSep,n.wordSep)},n.i=i,n.v=c,n.key=n.validateKey(e),n.setAlphabet(n.alphabetConstructor(f,n.key)),n.wordSep=" ",n.characterSep="",n}return o}(r);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function L(t,e){return L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},L(t,e)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function K(t,e){return K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},K(t,e)}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}const F={Atbash:m,Autokey:E,Baconian:j,Bazeries:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=x(e);if(n){var c=x(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==N(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,e,!0,!1,i,"",{},c)).transpositionAlphabet=function(t,e){var r=n.alphabet,o=[],i=[];Object.keys(r).forEach(function(t){t.charCodeAt(0)>=97&&t.charCodeAt(0)<=123&&i.push(r[t]),i.length===e&&(o.push(i),i=[])}),o=(o=n.transposeMatrix(o)).join();var c=97;o.split(",").forEach(function(t){r[String.fromCharCode(c)]=t,c+=1}),n.setAlphabet(r)},n.encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.message;return n.encodeAlphabet(t,n.characterSep,n.wordSep)},n.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.message;return n.decodeAlphabet(t,n.characterSep,n.wordSep)},n.method="bazeries",n.wordSep=" ",n.characterSep="",n.transpositionAlphabet(5,5),n}return o}(k),Morse:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=U(e);if(n){var c=U(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==I(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"morse","",{"-----":"0",".----":"1","..---":"2","...--":"3","....-":"4",".....":"5","-....":"6","--...":"7","---..":"8","----.":"9",".-":"a","-...":"b","-.-.":"c","-..":"d",".":"e","..-.":"f","--.":"g","....":"h","..":"i",".---":"j","-.-":"k",".-..":"l","--":"m","-.":"n","---":"o",".--.":"p","--.-":"q",".-.":"r","...":"s","-":"t","..-":"u","...-":"v",".--":"w","-..-":"x","-.--":"y","--..":"z","/":" ","-·-·--":"!","·-·-·-":".","--··--":","})).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return s.validateMessage(t),e.encodeAlphabet(t,e.characterSep,e.wordSep)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return s.validateMessage(t),e.decodeAlphabet(t,e.characterSep,e.wordSep)},e.wordSep="   ",e.characterSep=" ",e}return o}(r),SimpleSubstitution:k};function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function V(t,e){return V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},V(t,e)}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function J(t,e){return J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},J(t,e)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function G(t,e){return G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},G(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){return X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},X(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t,e){return tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){return rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}const it={CaesarShift:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=Z(e);if(n){var c=Z(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==B(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t,i,"caesarShift",e,"",c)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.key;return s.validateMessage(t),s.validateKey(e,"number"),n.shiftCharacters(t,e)},n.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.key;return s.validateMessage(t),s.validateKey(e,"number"),n.shiftCharacters(t,-e)},n}return o}(r),Rot5:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=Y(e);if(n){var c=Y(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==Q(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"rot5",5,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,n)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-n)},e}return o}(r),Rot7:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=H(e);if(n){var c=H(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==q(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"rot7",7,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,n)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-n)},e}return o}(r),Rot13:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=z(e);if(n){var c=z(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==W(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"rot13",13,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,n)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-n)},e}return o}(r),Rot18:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=et(e);if(n){var c=et(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==$(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"rot18",18,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,n)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-n)},e}return o}(r),Rot47:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=ot(e);if(n){var c=ot(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==nt(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,n,"rot47",47,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,n)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-n)},e}return o}(r)};function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function at(t,e){return at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},at(t,e)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r,o,i=ut(e);if(n){var c=ut(this).constructor;t=Reflect.construct(i,arguments,c)}else t=i.apply(this,arguments);return r=this,!(o=t)||"object"!==ct(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r):o});function o(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AAA",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AAA",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PO ML IU KJ NH YT GB VF RE DC",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"123",u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t,u,"enigma","","",f)).initialize=function(){e.rotorsettings=e.rotorSettings.replace(/[^1-9]/g,""),e.keysettings=e.keySettings.toUpperCase().replace(/[^A-Z]/g,""),e.ringsettings=e.ringSettings.toUpperCase().replace(/[^A-Z]/g,""),e.plugboardsettings=e.plugboardSettings.toUpperCase().replace(/[^A-Z]/g,"")},e.setupPlugboard=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.split(""),r=0,o=1;r<e.plugboardsettings.length;r+=2,o+=2){var i=t.indexOf(e.plugboardsettings.charAt(r)),c=t.indexOf(e.plugboardsettings.charAt(o)),a=n[c];n[c]=n[i],n[i]=a}return n.join("")},e.setupKey=function(){var t=e.keysettings.split("");return t[0]=e.code(t[0]),t[1]=e.code(t[1]),t[2]=e.code(t[2]),t},e.setupCode=function(){var t=e.ringsettings.split("");return t[0]=e.code(t[0]),t[1]=e.code(t[1]),t[2]=e.code(t[2]),t},e.getRotors=function(){var t=e.rotorsettings.split("");return t[0]=t[0].valueOf()-1,t[1]=t[1].valueOf()-1,t[2]=t[2].valueOf()-1,t},e.encode=function(){s.validateMessage(e.message);var t="",n=e.message.replace(/[^A-Z]/g,"");if(e.initialize(),e.validateSettings(n)){var r=e.getRotors(),o=e.setupPlugboard(),i=e.setupKey(),c=e.setupCode(),a="",u="";n.split("").forEach(function(n){(a=n).match(/[A-Z]/)?(i=e.incrementSettings(i,r),u=e.enigmaChar(a,i,r,c,o),t+=u):t+=a})}return t},e.validateSettings=function(t){var n=!0;return t.length<1&&(n=!1),3!==e.keysettings.length&&(n=!1),3!==e.ringsettings.length&&(n=!1),e.plugboardsettings.length>26&&(n=!1),e.plugboardsettings.length%2!=0&&(n=!1),3!==e.rotorsettings.length&&(n=!1),n},e.enigmaChar=function(t,n,r,o,i){var c=t;return c=e.simplesub(c,i),c=e.rotor(c,r[2],n[2]-o[2]),c=e.rotor(c,r[1],n[1]-o[1]),c=e.rotor(c,r[0],n[0]-o[0]),c=e.simplesub(c,"YRUHQSLDPXNGOKMIEBFZCWVJAT"),c=e.rotor(c,r[0]+8,n[0]-o[0]),c=e.rotor(c,r[1]+8,n[1]-o[1]),c=e.rotor(c,r[2]+8,n[2]-o[2]),e.simplesub(c,i)},e.incrementSettings=function(t,e){var n=t,r=[[16,16],[4,4],[21,21],[9,9],[25,25],[25,12],[25,12],[25,12]];return n[1]!==r[e[1]][0]&&n[1]!==r[e[1]][1]||(n[0]=(n[0]+1)%26,n[1]=(n[1]+1)%26),n[2]!==r[e[2]][0]&&n[2]!==r[e[2]][1]||(n[1]=(n[1]+1)%26),n[2]=(n[2]+1)%26,n},e.simplesub=function(t,n){return n.charAt(e.code(t))},e.rotor=function(t,n,r){var o=(e.code(t)+26+r)%26,i=(e.code(["EKMFLGDQVZNTOWYHXUSPAIBRCJ","AJDKSIRUXBLHWTMCQGZNPYFVOE","BDFHJLCPRTXVZNYEIWGAKMUSQO","ESOVPZJAYQUIRHXLNFTGKDCMWB","VZBRGITYUPSDNHLXAWMJQOFECK","JPGVOUMFYQBENHZRDKASXLICTW","NZJHGRCXMYSWBOUFAIVLPEKQDT","FKQHTLXOCBJSPDZRAMEWNIUYGV","UWYGADFPVZBECKMTHXSLRINQOJ","AJPCZWRLFBDKOTYUQGENHXMIVS","TAGBPCSDQEUFVNZHYIXJWLRKOM","HZWVARTNLGUPXQCEJMBSKDYOIF","QCYLXWENFTZOSMVJUDKGIARPHB","SKXQLHCNWARVGMEBJPTYFDZUIO","QMGYVPEDRCWTIANUXFKZOSLHJB","QJINSAYDVKBFRUHMCPLEWZTGXO"][n].charAt(o))+26-r)%26+65;return String.fromCharCode(i)},e.code=function(t){return t.toUpperCase().charCodeAt(0)-65},e.message=t.toUpperCase(),e.keySettings=n,e.ringSettings=i,e.plugboardSettings=c,e.rotorSettings=a,e}return o}(r),st=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getTestMessage=function(t){return e.testMessages[t]},this.getChar=function(t){return e.alphabet[t]},this.setChar=function(t,n){return e.alphabet[t]=n,e.processMessage()},this.resetAlphabet=function(){return Object.keys(e.alphabet).map(function(t,n){return e.alphabet[t]=t}),e.processMessage()},this.swapChar=function(t,n){var r=e.alphabet[t];return e.alphabet[t]=e.alphabet[n],e.alphabet[n]=r,e.processMessage()},this.setByFrequency=function(){var t=e.sortProperties(e.freqAnalysis(e.message)),n=e.sortProperties(e.getSLFreq()),r=0;do{e.setChar(String(n[r][0]).toLowerCase(),String(t[r][0]).toLowerCase()),r+=1}while(r<t.length-1);return e.processMessage()},this.processMessage=function(){var t="";return e.message.split("").forEach(function(n){var r=e.alphabet[n];t+=""!==r?r:"?"}),t},this.getSLFreq=function(){return o},this.getS2Freq=function(){return i},this.getS3Freq=function(){return c},this.getS4Freq=function(){return a},this.freqAnalysis=function(){var t={},e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("");e.forEach(function(e){e in t?t[e]+=1:t[e]=1});var n=e.length;return Object.keys(t).forEach(function(e){var r=t[e];t[e]=parseFloat((r/n*100).toFixed(3))}),t},this.sortProperties=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",n=[];return t.forEach(function(e){n.push([e,t[e]])}),"asc"===e?n.sort(function(t,e){return t[1]-e[1]}):n.sort(function(t,e){return e[1]-t[1]}),n},this.testMessages=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","Las dos jornadas tuvieron un denominador común: insistir, y mucho, en educar en temas financieros, a los efectos de que la gente tenga claro cuáles son las ventajas y riesgos a los que se enfrenta.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus suscipit velit vitae vulputate. Vivamus vel tempus lacus. Fusce dictum, leo id porttitor dapibus, leo diam rutrum nulla, ut feugiat","La posición de Washington hacia las elecciones en Palestina ha sido coherente. Las elecciones fueron postergadas hasta la muerte de Yasser Arafat, que fue recibida como una oportunidad para la realización  "],this.message=n,this.alphabet={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"}};return e})());