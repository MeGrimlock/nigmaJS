!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.nigmajs=t():e.nigmajs=t()}(this,()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.r(t),e.d(t,{BasicCipher:()=>n,Columnar:()=>P,Dictionary:()=>Fe,Enigma:()=>yt,LanguageAnalysis:()=>y,Polyalphabetic:()=>tr,Shift:()=>ft,default:()=>rr});var n=function(){function e(t,r,n,o,i,a){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getMsg=function(){return u.message},this.getEncoded=function(){return u.encoded},this.getMethod=function(){return u.method},this.getKey=function(){return u.key},this.getAlphabet=function(){return u.alphabet},this.shiftCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(t)>26&&(t%=26),t<0&&(t+=26);for(var r="",n=0;n<e.length;n+=1){var o=e[n];if(o.match(/[a-z]/i)){var i=e.charCodeAt(n);i>=65&&i<=90?o=String.fromCharCode((i-65+t)%26+65):i>=97&&i<=122&&(o=String.fromCharCode((i-97+t)%26+97))}r+=o}return r},this.text2block=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e,n=(r=r.replace(/ /g,""))[0],o=1;do{o%t===0&&(n+=" "),n+=r[o],o+=1}while(o<r.length);return n},this.encodeAlphabet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return e.toLowerCase().split(" ").map(function(e){e.split("").map(function(e){var r=u.getKeyByValue(u.alphabet,e);void 0!==r&&(n+=r+t)}),t.length>0&&(n=n.slice(0,-t.length)),n+=r}),r.length>0&&(n=n.slice(0,-r.length)),n},this.decodeAlphabet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return e.split(r).map(function(e){e.split(t).map(function(e){var t=u.alphabet[e];void 0!==t&&(n+=t)}),n+=" "}),n=n.slice(0,-1)},this.validateEncoded=function(){return!0===u.encoded&&null!=u.message&&""!==u.message},this.transposeMatrix=function(e){return e[0].map(function(t,r){return e.map(function(e){return e[r]})})},this.getKeyByValue=function(e,t){return Object.keys(e).find(function(r){return e[r]===t})},this.logMessage=function(e){u.debug&&console.log(e)},this.test=function(){return"NigmaJS enabled"},this.message=t,this.encoded=r,this.method=n,this.key=null!=o?o:"",this.alphabet=i,this.debug=a}var t,n;return t=e,(n=[{key:"setMsg",value:function(e){return this.message=e,this}},{key:"setEncoded",value:function(e){return this.encoded=e,this}},{key:"setMethod",value:function(e){return this.method=e,this}},{key:"setKey",value:function(e){return this.key=e,this}},{key:"setAlphabet",value:function(e){return this.alphabet=e,this}},{key:"sortColumns",value:function(e,t){return e[0]===t[0]?0:e[0]<t[0]?-1:1}}])&&r(t.prototype,n),e}();const o={monograms:{A:12.5,B:1.27,C:4.43,D:5.14,E:13.24,F:.79,G:1.17,H:.81,I:6.91,J:.45,K:.08,L:5.84,M:2.61,N:7.09,Ñ:.22,O:8.98,P:2.75,Q:.83,R:6.62,S:7.44,T:4.42,U:4,V:.98,W:.03,X:.19,Y:.79,Z:.42},bigrams:{DE:2.57,AD:1.43,TA:1.09,ES:2.31,AR:1.43,TE:1,EN:2.27,RE:1.42,OR:.98,EL:2.01,AL:1.33,DO:.98,LA:1.8,AN:1.24,IO:.98,OS:1.79,NT:1.22,AC:.96,ON:1.61,UE:1.21,ST:.95,AS:1.56,CI:1.15,NA:.92,ER:1.52,CO:1.13,RO:.85,RA:1.47,SE:1.11,UN:.84},trigrams:{DEL:.75,EST:.48,PAR:.32,QUE:.74,LOS:.47,DES:.31,ENT:.67,ODE:.47,ESE:.3,ION:.56,ADO:.45,IEN:.3,ELA:.55,RES:.4,ALA:.29,CON:.54,STA:.38,POR:.29,SDE:.52,ACI:.36,ONE:.29,ADE:.51,LAS:.35,NDE:.29,CIO:.5,ARA:.34,TRA:.28,NTE:.49,ENE:.32,NES:.27},quadgrams:{CION:.42,MENT:.16,NCIA:.14,DELA:.33,IONE:.16,AQUE:.14,ACIO:.27,ODEL:.16,SQUE:.14,ENTE:.25,ONDE:.16,ENCI:.13,ESTA:.22,OQUE:.15,ENLA:.13,ESDE:.22,IDAD:.15,ENTR:.13,PARA:.19,ELOS:.15,IENT:.12,ONES:.17,ADEL:.15,ASDE:.12,SDEL:.17,ANTE:.15,ENEL:.12,OSDE:.17,ENTO:.14,DELO:.12}};function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c={spanish:o,english:{monograms:{E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:.69,X:.17,Q:.11,J:.1,Z:.07},bigrams:{TH:3.56,HE:3.07,IN:2.43,ER:2.05,AN:1.99,RE:1.85,ON:1.76,AT:1.49,EN:1.49,ND:1.35,TI:1.34,ES:1.34,OR:1.28,TE:1.2,OF:1.17,ED:1.17,IS:1.13,IT:1.12,AL:1.09,AR:1.07,ST:1.05,TO:1.04,NT:1.04,NG:.95,SE:.93,HA:.93,AS:.87,OU:.87,IO:.83,LE:.83},trigrams:{THE:3.51,AND:1.59,ING:1.15,HER:.82,HAT:.71,HIS:.6,THA:.59,ERE:.56,FOR:.56,ENT:.53,ION:.51,TER:.46,WAS:.46,YOU:.44,ITH:.43,VER:.43,ALL:.42,WIT:.4,THI:.39,TIO:.38,NDE:.37,HAS:.37,NCE:.36,EDT:.35,TIS:.34,OFT:.34,STH:.33,MEN:.33},quadgrams:{THAT:.76,THER:.6,WITH:.57,TION:.55,HERE:.37,OULD:.37,IGHT:.31,HAVE:.31,HICH:.28,WHIC:.28,THIS:.27,THIN:.27,THEY:.26,ATIO:.26,EVER:.26,FROM:.25,OUGH:.25,WERE:.23,HING:.23,MENT:.22}},italian:{monograms:{E:11.79,A:11.74,I:11.28,O:9.83,N:6.88,R:6.37,T:5.62,L:6.51,S:4.98,C:4.5,D:3.73,P:3.05,U:3.01,M:2.51,V:2.1,G:1.64,H:1.54,F:.95,B:.92,Q:.51,Z:.49,K:0,J:0,X:0,Y:0,W:0},bigrams:{ER:3.01,ES:2.85,ON:2.62,RE:2.54,EL:2.45,EN:2.32,DE:2.25,DI:2.15,ST:2.05,TI:2.01,AN:1.95,LA:1.92,AL:1.85,NT:1.81,RA:1.75},trigrams:{CHE:1.25,ERE:.95,ZIO:.85,DEL:.82,ELA:.75,ONE:.72,EST:.71,QUE:.65,ALL:.62,ENT:.61},quadgrams:{ZIONE:.55,MENT:.45,ALLA:.42,DELL:.41,HANN:.35,ANNO:.33,ESTA:.31,OLLA:.29,IONE:.28,ONTE:.25}},french:{monograms:{E:14.71,A:7.63,I:7.52,S:7.94,N:7.09,R:6.69,T:7.24,O:5.79,L:5.86,U:6.31,D:3.66,C:3.26,M:2.96,P:2.52,V:1.83,G:1.04,F:1.06,B:.9,H:.73,Q:1.36,X:.38,J:.61,Y:.12,Z:.32,K:.11,W:.04},bigrams:{ES:3.15,DE:2.65,LE:2.45,EN:2.42,RE:2.25,NT:2.15,ON:1.95,ER:1.85,TE:1.75,EL:1.65,AN:1.55,SE:1.45,LA:1.35,AI:1.25,IT:1.15},trigrams:{ENT:1.25,LES:.95,ION:.85,DEL:.82,QUE:.75,EST:.72,LLE:.71,DES:.65,AIT:.62,QUI:.61},quadgrams:{TION:.55,MENT:.45,QUEL:.42,DANS:.41,POUR:.35,ELLE:.33,ESTA:.31,PALA:.29,ETTE:.28,OUS:.25}},german:{monograms:{E:16.93,N:10.53,I:6.29,R:6.89,S:6.42,A:5.58,T:5.79,D:4.96,H:3.88,U:3.83,L:3.6,C:3.44,G:3.02,M:2.55,O:2.24,B:1.96,W:1.78,F:1.49,K:1.32,V:.79,P:.67,Z:1.19,J:.24,Y:.05,X:.05,Q:.02},bigrams:{EN:3.88,ER:3.54,CH:2.75,TE:2.28,DE:2.05,ND:1.99,EI:1.86,IE:1.79,IN:1.67,ES:1.58,GE:1.45,UN:1.35,NE:1.25,ST:1.15,RE:1.1},trigrams:{EIN:1.25,ICH:1.15,NDE:.95,DIE:.92,UND:.85,DER:.82,CHE:.75,END:.72,GEN:.65,SCH:.61},quadgrams:{ISCH:.55,EINE:.45,LICH:.42,SCHE:.41,NGEN:.35,ENDE:.33,ICHE:.31,UNGE:.29,AUCH:.28,SIND:.25}},portuguese:{monograms:{A:14.63,E:12.57,O:10.73,S:7.81,R:6.53,I:6.18,N:5.05,D:4.99,M:4.74,U:4.63,T:4.34,C:3.88,L:2.78,P:2.52,V:1.67,G:1.3,H:1.28,Q:1.2,B:1.04,F:1.02,Z:.47,J:.4,X:.21,K:.02,Y:.01,W:.01},bigrams:{DE:3.15,ES:2.65,OS:2.45,AS:2.42,EN:2.25,AD:2.15,ON:1.95,RA:1.85,TE:1.75,OM:1.65,CO:1.55,ER:1.45,OR:1.35,QUE:1.25,SE:1.15},trigrams:{QUE:1.25,ENT:.95,NDE:.85,EST:.82,COM:.75,PAR:.72,MEN:.71,UMA:.65,ADO:.62,POR:.61},quadgrams:{PARA:.55,QUE:.45,ESTA:.42,COMO:.41,MENT:.35,ENTE:.33,ACAO:.31,PELA:.29,ONDE:.28,MAIS:.25}},russian:{monograms:{O:10.97,E:8.45,A:8.01,I:7.35,N:6.7,T:6.26,S:5.47,R:4.73,V:4.54,L:4.4,K:3.49,M:3.21,D:2.98,P:2.81,U:2.62,Y:1.9,Z:1.65,G:1.7,B:1.59,C:.47,H:.95,J:1.21},bigrams:{ST:1.5,NO:1.4,EN:1.3,OV:1.2,NA:1.1,RA:1,KO:.9,OS:.8,TO:.8,RO:.8,AL:.7,PO:.7,NI:.7,GO:.7,VE:.6},trigrams:{STO:.5,OST:.4,NOV:.4,OVA:.4,IYE:.3,NIE:.3,PRO:.3,TEL:.3,NNY:.3,ENT:.3},quadgrams:{STVO:.3,NOST:.2,IYEM:.2,LENI:.2,SKIY:.2,OVAL:.2,PRED:.2,STVA:.2,NOGO:.2,TORY:.2}},chinese:{monograms:{I:10,A:9,N:8.5,G:7.5,E:7,U:6.5,O:6,H:5,S:4.5,Z:4,Y:3.5,J:3,L:2.5,D:2.5,T:2.5,B:2,M:2,C:1.5,K:1.5,X:1.5,W:1.5,R:1.5,F:1,P:1,Q:1,V:0},bigrams:{NG:5.5,IN:4.5,AN:4,IA:3.5,AO:3,OU:3,AI:3,EN:3,ZH:2.5,SH:2.5,ON:2,UA:2,CH:1.5,EI:1.5,UI:1.5},trigrams:{ING:2.5,ANG:2,IAN:1.8,ONG:1.5,ENG:1.5,IOU:1,UAN:1,ZHO:.8,SHE:.8,HEN:.8},quadgrams:{IONG:.5,UANG:.5,IANG:.5,SHEN:.4,CHEN:.4,ZHON:.4,HENG:.4,JING:.4,WANG:.4,YANG:.4}}},f=o.monograms,l=o.bigrams,s=o.trigrams,p=o.quadgrams,y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"cleanText",value:function(e){return e.toUpperCase().replace(/[^A-ZÑÀ-ÿĀ-žА-ЯЁ]/g,"")}},{key:"getLetterFrequencies",value:function(e){var t=this.cleanText(e),r=t.length,n={};if(0===r)return{};var o,a=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=i(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}(t);try{for(a.s();!(o=a.n()).done;){var u=o.value;n[u]=(n[u]||0)+1}}catch(e){a.e(e)}finally{a.f()}var c={};for(var f in n)c[f]=n[f]/r*100;return c}},{key:"getNgramFrequencies",value:function(e,t){var r=this.cleanText(e),n={},o=0;if(r.length<t)return{};for(var i=0;i<=r.length-t;i++){var a=r.substring(i,i+t);n[a]=(n[a]||0)+1,o++}var u={};for(var c in n)u[c]=n[c]/o*100;return u}},{key:"calculateChiSquared",value:function(e,t){var r=0;for(var n in t){var o=e[n]||0,i=t[n];r+=Math.pow(o-i,2)/i}return r}},{key:"calculateShapeScore",value:function(e,t){for(var r=Object.values(e).sort(function(e,t){return t-e}),n=Object.values(t).sort(function(e,t){return t-e}),o=0,i=Math.min(r.length,n.length),a=0;a<i;a++){var u=r[a],c=n[a];c>0&&(o+=Math.pow(u-c,2)/c)}return o}},{key:"analyzeCorrelation",value:function(e){var t=c[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spanish"]||c.spanish,r=this.getLetterFrequencies(e),n=this.getNgramFrequencies(e,2),o=this.getNgramFrequencies(e,3),i=this.getNgramFrequencies(e,4);return{monograms:{score:this.calculateChiSquared(r,t.monograms),shapeScore:this.calculateShapeScore(r,t.monograms),frequencies:r},bigrams:{score:this.calculateChiSquared(n,t.bigrams),shapeScore:this.calculateShapeScore(n,t.bigrams),frequencies:n},trigrams:{score:this.calculateChiSquared(o,t.trigrams),shapeScore:this.calculateShapeScore(o,t.trigrams),frequencies:o},quadgrams:{score:this.calculateChiSquared(i,t.quadgrams),shapeScore:this.calculateShapeScore(i,t.quadgrams),frequencies:i}}}},{key:"detectLanguage",value:function(e){var t=[],r=e.toUpperCase(),n=(r.match(/[A-ZÑÀ-ÿĀ-ž]/g)||[]).length,o=(r.match(/[А-ЯЁ]/g)||[]).length,u=(r.match(/[\u4E00-\u9FFF]/g)||[]).length,f=n+o+u;if(0===f)return[];var l,s=[];n>.5*f?s.push("spanish","english","italian","french","german","portuguese"):o>.5*f?s.push("russian"):u>.5*f?s.push("chinese"):s.push.apply(s,function(e){if(Array.isArray(e))return a(e)}(l=Object.keys(c))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(l)||i(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());for(var p=0,y=s;p<y.length;p++){var h=y[p];if(c[h]){var d=this.analyzeCorrelation(e,h),g=(1*d.monograms.shapeScore+2*d.bigrams.shapeScore+2*d.trigrams.shapeScore+1*d.quadgrams.shapeScore)/6;t.push({language:h,score:g,details:d})}}return t.sort(function(e,t){return e.score-t.score})}},{key:"analyzeSpanishCorrelation",value:function(e){return this.analyzeCorrelation(e,"spanish")}}],null&&u(t.prototype,null),r&&u(t,r),e}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}y.spanishLetterFrequencies=o.monograms,y.spanishBigramFrequencies=o.bigrams,y.spanishTrigramFrequencies=o.trigrams,y.spanishQuadgramFrequencies=o.quadgrams,y.languages=c;var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"validateMessage",value:function(e){if(null==e)throw new TypeError("Message cannot be null or undefined");if("string"!=typeof e)throw new TypeError("Message must be a string, got ".concat(h(e)));if(""===e.trim())throw new Error("Message cannot be empty");return!0}},{key:"validateKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if(null==e)throw new TypeError("Key cannot be null or undefined");if("number"===t&&"number"!=typeof e)throw new TypeError("Key must be a number, got ".concat(h(e)));if("string"===t&&"string"!=typeof e)throw new TypeError("Key must be a string, got ".concat(h(e)));if("number"===t&&isNaN(e))throw new TypeError("Key must be a valid number, got NaN");return!0}},{key:"validateAlphabet",value:function(e){if(null==e)throw new TypeError("Alphabet cannot be null or undefined");if("object"!==h(e))throw new TypeError("Alphabet must be an object, got ".concat(h(e)));if(Array.isArray(e))throw new TypeError("Alphabet must be an object, not an array");return!0}},{key:"validateBoolean",value:function(e){if("boolean"!=typeof e)throw new TypeError("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value"," must be a boolean, got ").concat(h(e)));return!0}}],null&&d(t.prototype,null),r&&d(t,r),e}();function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}const P={Amsco:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=S(t);if(r){var a=S(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==b(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,i,"amsco",t,"",a)).decodingConstructor=function(e,t){var n=t.split("").map(function(e){return e-1}),o=[];n.map(function(e){o.push([e])});var i=r.generateDecodingMatrix(e.length,n,1,2);return[o,i,n]},r.validateKey=function(){var e=!0,t=r.key.split("").sort(),n=/^\d+$/;if(r.logMessage("Check for [0-9] chars only: ".concat(n.test(r.key)," key analyzed : ").concat(r.key)),n.test(r.key)){r.logMessage("Numbers only Key: ".concat(t," "));var o=0;do{var i=t[o];r.logMessage("Validating ... Char ".concat(i," of type ").concat(b(i)," at ").concat(o)),i===(1+o).toString()?o+=1:(e=!1,r.logMessage("Sequence not validated"))}while(!0===e&&o<t.length)}else r.logMessage("Invalid key, Non numbers detected"),e=!1;return e},r.generateDecodingMatrix=function(e,t,r,n){var o=[],i=r||1,a=n||2;t.map(function(e){o.push([])});var u=0;do{o.forEach(function(t){u<e?e-u>i?t.push(i):t.push(e-u):t.push(0),u+=i,i=i===r?a:r}),i=i===r?a:r}while(u<e);return o},r.processMatrixDecoding=function(e,t,n){var o=0,i=1,a=0,u=e,c=t,f=n;do{var l=0,s=f.indexOf(a);do{i=o+c[s][l];var p=r.message.slice(o,i);u[s].push(p),o=i,l+=1}while(l<c[s].length);a+=1}while(a<c.length);return u},r.decode=function(){g.validateMessage(r.message);var e=[];if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");var t=r.decodingConstructor(r.message,r.key);return e=r.processMatrixDecoding(t[0],t[1],t[2]),(e=r.transposeMatrix(e)).shift(),e=(e=e.map(function(e){return e.join("")})).join(""),r.logMessage("Done decoding: ".concat(e)),e},r.encode=function(){g.validateMessage(r.message);var e="",t=[],n=[],o="";if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");e=r.message.replace(/\s+/g,"").toLocaleUpperCase();var i,a,u=r.decodingConstructor(r.message,r.key),c=(a=1,function(e){if(Array.isArray(e))return e}(i=u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(i,a)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());t=c[0],n=r.transposeMatrix(u[1]);var f=0,l=0;return n.forEach(function(r){r.forEach(function(n){t[l].push(e.slice(f,f+n)),f+=n,l<r.length-1?l+=1:l=0})}),t.sort(r.sortFunction),t.forEach(function(e){e.shift(),o+=e.join("")}),o},r}return o}(n),RailFence:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=A(t);if(r){var a=A(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==w(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,i,"railFence",r,"",a)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rails;if(g.validateMessage(e),g.validateKey(r,"number"),r<2)throw new Error("Rail Fence cipher requires at least 2 rails");var n=e.toUpperCase().replace(/[^A-Z]/g,"");if(0===n.length)return"";for(var o=[],i=0;i<r;i++)o[i]=[];for(var a=0,u=1,c=0;c<n.length;c++)o[a].push(n[c]),0===a?u=1:a===r-1&&(u=-1),a+=u;for(var f="",l=0;l<r;l++)f+=o[l].join("");return f},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rails;if(g.validateMessage(e),g.validateKey(r,"number"),r<2)throw new Error("Rail Fence cipher requires at least 2 rails");var n=e.toUpperCase().replace(/[^A-Z]/g,"");if(0===n.length)return"";for(var o=[],i=0;i<r;i++)o[i]=[];for(var a=[],u=0,c=1,f=0;f<n.length;f++)a.push({index:f,row:u}),0===u?c=1:u===r-1&&(c=-1),u+=c;var l=new Array(r).fill(0);a.forEach(function(e){l[e.row]++});for(var s=0,p=0;p<r;p++)for(var y=0;y<l[p];y++)s<n.length&&(o[p].push(n[s]),s++);var h=new Array(r).fill(0),d="";u=0,c=1;for(var v=0;v<n.length;v++)d+=o[u][h[u]],h[u]++,0===u?c=1:u===r-1&&(c=-1),u+=c;return d},t.rails=r||3,t}return o}(n),Route:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=R(n);if(o){var a=R(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==E(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"spiral",u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,u,"route",r,"",c)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rows,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.cols,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.route;if(g.validateMessage(e),g.validateKey(r,"number"),g.validateKey(n,"number"),r<2||n<2)throw new Error("Route cipher requires at least 2 rows and 2 columns");t.rows=r,t.cols=n,t.route=o||"spiral";var i=t.createGrid(e);return t.readGrid(i)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rows,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.cols,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.route;if(g.validateMessage(e),g.validateKey(r,"number"),g.validateKey(n,"number"),r<2||n<2)throw new Error("Route cipher requires at least 2 rows and 2 columns");t.rows=r,t.cols=n,t.route=o||"spiral";for(var i=e.toUpperCase().replace(/[^A-Z]/g,""),a=t.writeGrid(i),u="",c=0;c<t.rows;c++)for(var f=0;f<t.cols;f++)u+=a[c][f];return u.replace(/X+$/,"")},t.rows=r||5,t.cols=n||5,t.route=o||"spiral",t}return t=a,(r=[{key:"createGrid",value:function(e){for(var t=e.toUpperCase().replace(/[^A-Z]/g,""),r=[],n=0;n<this.rows;n++){r[n]=[];for(var o=0;o<this.cols;o++){var i=n*this.cols+o;r[n][o]=i<t.length?t[i]:"X"}}return r}},{key:"readSpiral",value:function(e){for(var t="",r=0,n=this.rows-1,o=0,i=this.cols-1;r<=n&&o<=i;){for(var a=o;a<=i;a++)t+=e[r][a];for(var u=++r;u<=n;u++)t+=e[u][i];if(i--,r<=n){for(var c=i;c>=o;c--)t+=e[n][c];n--}if(o<=i){for(var f=n;f>=r;f--)t+=e[f][o];o++}}return t}},{key:"writeSpiral",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0,i=this.rows-1,a=0,u=this.cols-1;o<=i&&a<=u&&n<e.length;){for(var c=a;c<=u&&n<e.length;c++)t[o][c]=e[n++];for(var f=++o;f<=i&&n<e.length;f++)t[f][u]=e[n++];if(u--,o<=i){for(var l=u;l>=a&&n<e.length;l--)t[i][l]=e[n++];i--}if(a<=u){for(var s=i;s>=o&&n<e.length;s--)t[s][a]=e[n++];a++}}return t}},{key:"readZigzag",value:function(e){for(var t="",r=0;r<this.rows;r++)if(r%2==0)for(var n=0;n<this.cols;n++)t+=e[r][n];else for(var o=this.cols-1;o>=0;o--)t+=e[r][o];return t}},{key:"writeZigzag",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0;o<this.rows&&n<e.length;o++)if(o%2==0)for(var i=0;i<this.cols&&n<e.length;i++)t[o][i]=e[n++];else for(var a=this.cols-1;a>=0&&n<e.length;a--)t[o][a]=e[n++];return t}},{key:"readColumn",value:function(e){for(var t="",r=0;r<this.cols;r++)for(var n=0;n<this.rows;n++)t+=e[n][r];return t}},{key:"writeColumn",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0;o<this.cols&&n<e.length;o++)for(var i=0;i<this.rows&&n<e.length;i++)t[i][o]=e[n++];return t}},{key:"readGrid",value:function(e){switch(this.route.toLowerCase()){case"spiral":default:return this.readSpiral(e);case"zigzag":return this.readZigzag(e);case"column":return this.readColumn(e)}}},{key:"writeGrid",value:function(e){switch(this.route.toLowerCase()){case"spiral":default:return this.writeSpiral(e);case"zigzag":return this.writeZigzag(e);case"column":return this.writeColumn(e)}}}])&&C(t.prototype,r),a}(n)};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=I(t);if(r){var a=I(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==k(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"atbash","",{4:"a",3:"b",2:"c",1:"d",0:"e",z:"f",y:"g",x:"h",w:"i",v:"j",u:"k",t:"l",s:"m",r:"n",q:"o",p:"p",o:"q",n:"r",m:"s",l:"t",k:"u",j:"v",i:"w",h:"x",g:"y",f:"z",e:"0",d:"1",c:"2",b:"3",a:"4","!":"5","?":"6",",":"7",".":"8"," ":"9",9:" ",8:".",7:",",6:"?",5:"!"},i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep=" ",t.characterSep="",t}return o}(n);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=N(t);if(r){var a=N(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==D(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t,r,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=n.call(this,e,r,"autoKey",t,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=e.toLowerCase().replace(/[^a-z]/g,""),n=t.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>=1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97+(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97+(r.charCodeAt(i-n.length)-97)+26)%26+97);return o},a.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=e.toLowerCase().replace(/[^a-z]/g,""),n=t.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97-(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97-(o.charCodeAt(i-n.length)-97)+26)%26+97);return o},a}return o}(n);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=x(t);if(r){var a=x(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==q(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"baconian","",{aaaaa:"a",aaaab:"b",aaaba:"c",aaabb:"d",aabaa:"e",aabab:"f",aabba:"g",aabbb:"h",abaaa:"i",abaab:"j",ababa:"k",ababb:"l",abbaa:"m",abbab:"n",abbba:"o",abbbb:"p",baaaa:"q",baaab:"r",baaba:"s",baabb:"t",babaa:"u",babab:"v",babba:"w",babbb:"x",bbaaa:"y",bbaab:"z"},i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep="   ",t.characterSep=" ",t}return o}(n);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=V(t);if(r){var a=V(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==L(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var f={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"};return(r=n.call(this,e,u,"simpleSubstitution",t,f,c)).getI=function(){return r.i},r.getV=function(){return r.v},r.validateKey=function(e){var t=e.replace(/\s/g,"");return t.toLowerCase()},r.validateRemovedChars=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.v;return!0===t&&106===e||!0===n&&118===e},r.putLetter2Alphabet=function(e,t,n,o){var i=n,a=o;return t.includes(e)||r.validateRemovedChars(e.charCodeAt(0))||(r.validateRemovedChars(a,r.i,r.v)&&(delete i[String.fromCharCode(a)],a+=1),i[String.fromCharCode(a)]=e,t.push(e),a+=1),[e,t,i,a]},r.alphabetConstructor=function(e,t){var n=[],o=97;t.split("").forEach(function(t){var i=G(r.putLetter2Alphabet(t,n,e,o),4);t=i[0],n=i[1],e=i[2],o=i[3]});var i=97,a="";do{a=String.fromCharCode(i);var u=G(r.putLetter2Alphabet(a,n,e,o),4);a=u[0],n=u[1],e=u[2],o=u[3],i+=1}while(o<123);return e},r.encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return g.validateMessage(e),r.encodeAlphabet(e,r.characterSep,r.wordSep)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return g.validateMessage(e),r.decodeAlphabet(e,r.characterSep,r.wordSep)},r.i=i,r.v=a,r.key=r.validateKey(t),r.setAlphabet(r.alphabetConstructor(f,r.key)),r.wordSep=" ",r.characterSep="",r}return o}(n);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function W(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){return ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function le(e,t){return le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},le(e,t)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"==typeof e)return de(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function Se(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t){return Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ae(e,t)}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){if(e){if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function De(e,t){if(e){if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ke(e,t){return Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ke(e,t)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function xe(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},He(e)}const Fe={Atbash:T,Autokey:K,Baconian:Z,Bazeries:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=J(t);if(r){var a=J(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Q(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,t,!0,!1,i,"",{},a)).transpositionAlphabet=function(e,t){var n=r.alphabet,o=[],i=[];Object.keys(n).forEach(function(e){e.charCodeAt(0)>=97&&e.charCodeAt(0)<=123&&i.push(n[e]),i.length===t&&(o.push(i),i=[])}),o=(o=r.transposeMatrix(o)).join();var a=97;o.split(",").forEach(function(e){n[String.fromCharCode(a)]=e,a+=1}),r.setAlphabet(n)},r.encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.encodeAlphabet(e,r.characterSep,r.wordSep)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.decodeAlphabet(e,r.characterSep,r.wordSep)},r.method="bazeries",r.wordSep=" ",r.characterSep="",r.transpositionAlphabet(5,5),r}return o}(Y),Bifid:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=te(n);if(o){var a=te(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==B(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"bifid",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;g.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n=e.toUpperCase().replace(/[^A-Z]/g,"").replace(/J/g,"I");if(0===n.length)return"";var o,i=[],a=[],u=W(n);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=t.findPosition(c);f&&(i.push(f.row),a.push(f.col))}}catch(e){u.e(e)}finally{u.f()}for(var l=i.concat(a),s="",p=0;p<l.length-1;p+=2){var y=l[p],h=l[p+1];s+=t.getLetter(y,h)}return s},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;g.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n=e.toUpperCase().replace(/[^A-Z]/g,"").replace(/J/g,"I");if(0===n.length)return"";var o,i=[],a=W(n);try{for(a.s();!(o=a.n()).done;){var u=o.value,c=t.findPosition(u);c&&(i.push(c.row),i.push(c.col))}}catch(e){a.e(e)}finally{a.f()}for(var f=Math.ceil(i.length/2),l=i.slice(0,f),s=i.slice(f),p="",y=0;y<l.length;y++){var h=l[y],d=void 0!==s[y]?s[y]:0;p+=t.getLetter(h,d)}return p},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").split("").filter(function(e,t,r){return/[A-Z]/.test(e)&&r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getLetter",value:function(e,t){return e>=0&&e<5&&t>=0&&t<5?this.grid[e][t]:""}}],r&&$(t.prototype,r),a}(n),FourSquare:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ce(n);if(o){var a=ce(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==re(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EXAMPLE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEYWORD",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"fourSquare",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keyword1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.keyword2;g.validateMessage(e),g.validateKey(r,"string"),g.validateKey(n,"string");var o=r?r.toUpperCase().replace(/[^A-Z]/g,""):"",i=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length||!i||0===i.length)throw new Error("Four-Square cipher requires two non-empty keywords");r===t.keyword1&&n===t.keyword2||(t.squares=t.generateSquares(r,n),t.keyword1=r,t.keyword2=n);var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=oe(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(c.s();!(a=c.n()).done;){var f=ne(a.value,2),l=f[0],s=f[1];u+=t.encodeDigraph(l,s)}}catch(e){c.e(e)}finally{c.f()}return u},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keyword1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.keyword2;g.validateMessage(e),g.validateKey(r,"string"),g.validateKey(n,"string");var o=r?r.toUpperCase().replace(/[^A-Z]/g,""):"",i=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length||!i||0===i.length)throw new Error("Four-Square cipher requires two non-empty keywords");r===t.keyword1&&n===t.keyword2||(t.squares=t.generateSquares(r,n),t.keyword1=r,t.keyword2=n);for(var a=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),u=[],c=0;c<a.length;c+=2)c+1<a.length&&u.push([a[c],a[c+1]]);for(var f="",l=0,s=u;l<s.length;l++){var p=ne(s[l],2),y=p[0],h=p[1];f+=t.decodeDigraph(y,h)}return f},t.keyword1=r,t.keyword2=n,t.squares=t.generateSquares(r,n),t}return t=a,(r=[{key:"generateSquares",value:function(e,t){return{square1:this.generateStandardSquare(),square2:this.generateKeyedSquare(e),square3:this.generateKeyedSquare(t),square4:this.generateStandardSquare()}}},{key:"generateStandardSquare",value:function(){for(var e=[],t=0;t<5;t++){e[t]=[];for(var r=0;r<5;r++)e[t][r]="ABCDEFGHIKLMNOPQRSTUVWXYZ"[5*t+r]}return e}},{key:"generateKeyedSquare",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),r=new Set(t.split("")),n=t+"ABCDEFGHIKLMNOPQRSTUVWXYZ".split("").filter(function(e){return!r.has(e)}).join(""),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e,t){for(var r=t.toUpperCase().replace(/J/g,"I"),n=0;n<5;n++)for(var o=0;o<5;o++)if(e[n][o]===r)return{row:n,col:o};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square1,e),n=this.findPosition(this.squares.square4,t);return r&&n?this.squares.square2[r.row][n.col]+this.squares.square3[n.row][r.col]:e+t}},{key:"decodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square2,e),n=this.findPosition(this.squares.square3,t);return r&&n?this.squares.square1[r.row][n.col]+this.squares.square4[n.row][r.col]:e+t}}])&&ae(t.prototype,r),a}(n),Morse:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=se(t);if(r){var a=se(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==fe(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"morse","",{"-----":"0",".----":"1","..---":"2","...--":"3","....-":"4",".....":"5","-....":"6","--...":"7","---..":"8","----.":"9",".-":"a","-...":"b","-.-.":"c","-..":"d",".":"e","..-.":"f","--.":"g","....":"h","..":"i",".---":"j","-.-":"k",".-..":"l","--":"m","-.":"n","---":"o",".--.":"p","--.-":"q",".-.":"r","...":"s","-":"t","..-":"u","...-":"v",".--":"w","-..-":"x","-.--":"y","--..":"z","/":" ","-·-·--":"!","·-·-·-":".","--··--":","})).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return g.validateMessage(e),t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return g.validateMessage(e),t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep="   ",t.characterSep=" ",t}return o}(n),Playfair:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=be(n);if(o){var a=be(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==pe(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"playfair",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Playfair cipher requires a non-empty keyword");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=he(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(i.s();!(n=i.n()).done;){var a=ye(n.value,2),u=a[0],c=a[1];o+=t.encodeDigraph(u,c,1)}}catch(e){i.e(e)}finally{i.f()}return o},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Playfair cipher requires a non-empty keyword");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);for(var n=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),o=[],i=0;i<n.length;i+=2)i+1<n.length&&o.push([n[i],n[i+1]]);for(var a="",u=0,c=o;u<c.length;u++){var f=ye(c[u],2),l=f[0],s=f[1];a+=t.encodeDigraph(l,s,-1)}return a},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYWORD").toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),t="ABCDEFGHIKLMNOPQRSTUVWXYZ",r=new Set(e.split("")),n=e+(t=t.split("").filter(function(e){return!r.has(e)}).join("")),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X"===o?"Q":"X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.findPosition(e),a=this.findPosition(t);return i&&a?(i.row===a.row?(r={row:i.row,col:(i.col+o+5)%5},n={row:a.row,col:(a.col+o+5)%5}):i.col===a.col?(r={row:(i.row+o+5)%5,col:i.col},n={row:(a.row+o+5)%5,col:a.col}):(r={row:i.row,col:a.col},n={row:a.row,col:i.col}),this.grid[r.row][r.col]+this.grid[n.row][n.col]):e+t}}],r&&ge(t.prototype,r),a}(n),Polybius:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ee(n);if(o){var a=Ee(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==me(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"polybius",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;g.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=Se(e.toUpperCase().replace(/[^A-Z]/g,""));try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.findPosition(a);u&&(o+="".concat(u.row).concat(u.col," "))}}catch(e){i.e(e)}finally{i.f()}return o.trim()},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;g.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=Se(e.match(/\d{2}/g)||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=parseInt(a[0])-1,c=parseInt(a[1])-1;u>=0&&u<5&&c>=0&&c<5&&(o+=t.grid[u][c])}}catch(e){i.e(e)}finally{i.f()}return o},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").split("").filter(function(e,t,r){return/[A-Z]/.test(e)&&r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r+1,col:n+1};return null}}],r&&Oe(t.prototype,r),a}(n),SimpleSubstitution:Y,TwoSquare:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ie(n);if(o){var a=Ie(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Ce(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"twoSquare",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;g.validateMessage(e),g.validateKey(r,"string");var n=r?r.toUpperCase().replace(/[^A-Z]/g,""):"";if(!n||0===n.length)throw new Error("Two-Square cipher requires a non-empty keyword");r!==t.key&&(t.squares=t.generateSquares(r),t.key=r);var o,i="",a=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=Re(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(a.s();!(o=a.n()).done;){var u=je(o.value,2),c=u[0],f=u[1];i+=t.encodeDigraph(c,f)}}catch(e){a.e(e)}finally{a.f()}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;g.validateMessage(e),g.validateKey(r,"string");var n=r?r.toUpperCase().replace(/[^A-Z]/g,""):"";if(!n||0===n.length)throw new Error("Two-Square cipher requires a non-empty keyword");r!==t.key&&(t.squares=t.generateSquares(r),t.key=r);for(var o=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),i=[],a=0;a<o.length;a+=2)a+1<o.length&&i.push([o[a],o[a+1]]);for(var u="",c=0,f=i;c<f.length;c++){var l=je(f[c],2),s=l[0],p=l[1];u+=t.decodeDigraph(s,p)}return u},t.squares=t.generateSquares(r),t}return t=a,(r=[{key:"generateSquares",value:function(e){return{square1:this.generateStandardSquare(),square2:this.generateKeyedSquare(e)}}},{key:"generateStandardSquare",value:function(){for(var e=[],t=0;t<5;t++){e[t]=[];for(var r=0;r<5;r++)e[t][r]="ABCDEFGHIKLMNOPQRSTUVWXYZ"[5*t+r]}return e}},{key:"generateKeyedSquare",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),r=new Set(t.split("")),n=t+"ABCDEFGHIKLMNOPQRSTUVWXYZ".split("").filter(function(e){return!r.has(e)}).join(""),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e,t){for(var r=t.toUpperCase().replace(/J/g,"I"),n=0;n<5;n++)for(var o=0;o<5;o++)if(e[n][o]===r)return{row:n,col:o};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square1,e),n=this.findPosition(this.squares.square1,t);return r&&n?this.squares.square2[r.row][r.col]+this.squares.square2[n.row][n.col]:e+t}},{key:"decodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square2,e),n=this.findPosition(this.squares.square2,t);return r&&n?this.squares.square1[r.row][r.col]+this.squares.square1[n.row][n.col]:e+t}}])&&ke(t.prototype,r),a}(n),ADFGX:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=qe(n);if(o){var a=qe(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Te(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"adfgx",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;g.validateMessage(e),g.validateKey(r,"string"),g.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"");if(0===i.length)return"";var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=De(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(c.s();!(a=c.n()).done;){var f=a.value,l=t.findPosition(f);l&&(u+=t.getCoordinate(l.row),u+=t.getCoordinate(l.col))}}catch(e){c.e(e)}finally{c.f()}for(var s=o.length,p=[],y=0;y<u.length;y+=s)p.push(u.slice(y,y+s).split(""));if(p.length>0)for(;p[p.length-1].length<s;)p[p.length-1].push("X");for(var h=t.getSortedKeyIndices(n),d=[],v=0;v<s;v++)for(var b=h.indexOf(v),m=0;m<p.length;m++)d[m]||(d[m]=[]),d[m][v]=p[m][b];for(var S="",w=0;w<s;w++)for(var O=0;O<d.length;O++)d[O]&&d[O][w]&&(S+=d[O][w]);return S},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;g.validateMessage(e),g.validateKey(r,"string"),g.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^ADFGX]/g,"");if(0===i.length)return"";for(var a=o.length,u=Math.ceil(i.length/a),c=[],f=0,l=0;l<a;l++)for(var s=0;s<u;s++)c[s]||(c[s]=[]),f<i.length&&(c[s][l]=i[f],f++);for(var p=t.getSortedKeyIndices(n),y=[],h=0;h<a;h++)for(var d=p[h],v=0;v<u;v++)y[v]||(y[v]=[]),y[v][d]=c[v][h];for(var b="",m=0;m<u;m++)for(var S=0;S<a;S++)y[m]&&y[m][S]&&(b+=y[m][S]);for(var w=b.replace(/X+$/,""),O="",A=0;A<w.length-1;A+=2){var E=w[A],C=w[A+1],j=t.getCoordinateIndex(E),R=t.getCoordinateIndex(C);-1!==j&&-1!==R&&(O+=t.getChar(j,R))}return O},t.transpositionKey=n,t.grid=t.generateGrid(r),t.coordinates="ADFGX",t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getChar",value:function(e,t){return e>=0&&e<5&&t>=0&&t<5?this.grid[e][t]:""}},{key:"getCoordinate",value:function(e){return this.coordinates[e]}},{key:"getCoordinateIndex",value:function(e){return this.coordinates.indexOf(e.toUpperCase())}},{key:"getSortedKeyIndices",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,"").split(""),n=(t=r,function(e){if(Array.isArray(e))return Ue(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||De(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort();return r.map(function(e){return n.indexOf(e)})}}],r&&Ne(t.prototype,r),a}(n),ADFGVX:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=He(n);if(o){var a=He(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Me(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"adfgvx",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;g.validateMessage(e),g.validateKey(r,"string"),g.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGVX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^A-Z0-9]/g,"");if(0===i.length)return"";var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=xe(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(c.s();!(a=c.n()).done;){var f=a.value,l=t.findPosition(f);l&&(u+=t.getCoordinate(l.row),u+=t.getCoordinate(l.col))}}catch(e){c.e(e)}finally{c.f()}for(var s=n.toUpperCase().replace(/[^A-Z]/g,"").length,p=[],y=0;y<u.length;y+=s)p.push(u.slice(y,y+s).split(""));if(p.length>0)for(;p[p.length-1].length<s;)p[p.length-1].push("X");for(var h=t.getSortedKeyIndices(n),d=[],v=0;v<s;v++)for(var b=h.indexOf(v),m=0;m<p.length;m++)d[m]||(d[m]=[]),d[m][v]=p[m][b];for(var S="",w=0;w<s;w++)for(var O=0;O<d.length;O++)d[O]&&d[O][w]&&(S+=d[O][w]);return S},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;g.validateMessage(e),g.validateKey(r,"string"),g.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGVX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^ADFGVX]/g,"");if(0===i.length)return"";for(var a=n.toUpperCase().replace(/[^A-Z]/g,"").length,u=Math.ceil(i.length/a),c=[],f=0,l=0;l<a;l++)for(var s=0;s<u;s++)c[s]||(c[s]=[]),f<i.length&&(c[s][l]=i[f],f++);for(var p=t.getSortedKeyIndices(n),y=[],h=0;h<a;h++)for(var d=p[h],v=0;v<u;v++)y[v]||(y[v]=[]),y[v][d]=c[v][h];for(var b="",m=0;m<u;m++)for(var S=0;S<a;S++)y[m]&&y[m][S]&&(b+=y[m][S]);for(var w=b.replace(/X+$/,""),O="",A=0;A<w.length-1;A+=2){var E=w[A],C=w[A+1],j=t.getCoordinateIndex(E),R=t.getCoordinateIndex(C);-1!==j&&-1!==R&&(O+=t.getChar(j,R))}return O},t.transpositionKey=n,t.grid=t.generateGrid(r),t.coordinates="ADFGVX",t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";if(e){var r=e.toUpperCase().replace(/[^A-Z0-9]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<6;i++){o[i]=[];for(var a=0;a<6;a++)o[i][a]=t[6*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase(),r=0;r<6;r++)for(var n=0;n<6;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getChar",value:function(e,t){return e>=0&&e<6&&t>=0&&t<6?this.grid[e][t]:""}},{key:"getCoordinate",value:function(e){return this.coordinates[e]}},{key:"getCoordinateIndex",value:function(e){return this.coordinates.indexOf(e.toUpperCase())}},{key:"getSortedKeyIndices",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,"").split(""),n=(t=r,function(e){if(Array.isArray(e))return Ze(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||xe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort();return r.map(function(e){return n.indexOf(e)})}}],r&&Le(t.prototype,r),a}(n)};function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ye(e,t){return Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ye(e,t)}function Qe(e){return Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qe(e)}function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Je(e,t){return Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Je(e,t)}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function ze(e,t){return ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ze(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){return tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tt(e,t)}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){return ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ot(e,t)}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}const ft={CaesarShift:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Qe(t);if(r){var a=Qe(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Ve(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,i,"caesarShift",t,"",a)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return g.validateMessage(e),g.validateKey(t,"number"),r.shiftCharacters(e,t)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return g.validateMessage(e),g.validateKey(t,"number"),r.shiftCharacters(e,-t)},r}return o}(n),Rot5:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Be(t);if(r){var a=Be(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Xe(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot5",5,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot7:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=$e(t);if(r){var a=$e(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==We(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot7",7,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot13:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=rt(t);if(r){var a=rt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==et(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot13",13,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot18:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=it(t);if(r){var a=it(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==nt(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot18",18,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot47:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=ct(t);if(r){var a=ct(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==at(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot47",47,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n)};function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function st(e,t){return st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},st(e,t)}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=pt(t);if(r){var a=pt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==lt(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AAA",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AAA",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PO ML IU KJ NH YT GB VF RE DC",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"123",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,c,"enigma","","",f)).initialize=function(){t.rotorsettings=t.rotorSettings.replace(/[^1-9]/g,""),t.keysettings=t.keySettings.toUpperCase().replace(/[^A-Z]/g,""),t.ringsettings=t.ringSettings.toUpperCase().replace(/[^A-Z]/g,""),t.plugboardsettings=t.plugboardSettings.toUpperCase().replace(/[^A-Z]/g,"")},t.setupPlugboard=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=e.split(""),n=0,o=1;n<t.plugboardsettings.length;n+=2,o+=2){var i=e.indexOf(t.plugboardsettings.charAt(n)),a=e.indexOf(t.plugboardsettings.charAt(o)),u=r[a];r[a]=r[i],r[i]=u}return r.join("")},t.setupKey=function(){var e=t.keysettings.split("");return e[0]=t.code(e[0]),e[1]=t.code(e[1]),e[2]=t.code(e[2]),e},t.setupCode=function(){var e=t.ringsettings.split("");return e[0]=t.code(e[0]),e[1]=t.code(e[1]),e[2]=t.code(e[2]),e},t.getRotors=function(){var e=t.rotorsettings.split("");return e[0]=e[0].valueOf()-1,e[1]=e[1].valueOf()-1,e[2]=e[2].valueOf()-1,e},t.encode=function(){g.validateMessage(t.message);var e="",r=t.message.replace(/[^A-Z]/g,"");if(t.initialize(),t.validateSettings(r)){var n=t.getRotors(),o=t.setupPlugboard(),i=t.setupKey(),a=t.setupCode(),u="",c="";r.split("").forEach(function(r){(u=r).match(/[A-Z]/)?(i=t.incrementSettings(i,n),c=t.enigmaChar(u,i,n,a,o),e+=c):e+=u})}return e},t.validateSettings=function(e){var r=!0;return e.length<1&&(r=!1),3!==t.keysettings.length&&(r=!1),3!==t.ringsettings.length&&(r=!1),t.plugboardsettings.length>26&&(r=!1),t.plugboardsettings.length%2!=0&&(r=!1),3!==t.rotorsettings.length&&(r=!1),r},t.enigmaChar=function(e,r,n,o,i){var a=e;return a=t.simplesub(a,i),a=t.rotor(a,n[2],r[2]-o[2]),a=t.rotor(a,n[1],r[1]-o[1]),a=t.rotor(a,n[0],r[0]-o[0]),a=t.simplesub(a,"YRUHQSLDPXNGOKMIEBFZCWVJAT"),a=t.rotor(a,n[0]+8,r[0]-o[0]),a=t.rotor(a,n[1]+8,r[1]-o[1]),a=t.rotor(a,n[2]+8,r[2]-o[2]),t.simplesub(a,i)},t.incrementSettings=function(e,t){var r=e,n=[[16,16],[4,4],[21,21],[9,9],[25,25],[25,12],[25,12],[25,12]];return r[1]!==n[t[1]][0]&&r[1]!==n[t[1]][1]||(r[0]=(r[0]+1)%26,r[1]=(r[1]+1)%26),r[2]!==n[t[2]][0]&&r[2]!==n[t[2]][1]||(r[1]=(r[1]+1)%26),r[2]=(r[2]+1)%26,r},t.simplesub=function(e,r){return r.charAt(t.code(e))},t.rotor=function(e,r,n){var o=(t.code(e)+26+n)%26,i=(t.code(["EKMFLGDQVZNTOWYHXUSPAIBRCJ","AJDKSIRUXBLHWTMCQGZNPYFVOE","BDFHJLCPRTXVZNYEIWGAKMUSQO","ESOVPZJAYQUIRHXLNFTGKDCMWB","VZBRGITYUPSDNHLXAWMJQOFECK","JPGVOUMFYQBENHZRDKASXLICTW","NZJHGRCXMYSWBOUFAIVLPEKQDT","FKQHTLXOCBJSPDZRAMEWNIUYGV","UWYGADFPVZBECKMTHXSLRINQOJ","AJPCZWRLFBDKOTYUQGENHXMIVS","TAGBPCSDQEUFVNZHYIXJWLRKOM","HZWVARTNLGUPXQCEJMBSKDYOIF","QCYLXWENFTZOSMVJUDKGIARPHB","SKXQLHCNWARVGMEBJPTYFDZUIO","QMGYVPEDRCWTIANUXFKZOSLHJB","QJINSAYDVKBFRUHMCPLEWZTGXO"][r].charAt(o))+26-n)%26+65;return String.fromCharCode(i)},t.code=function(e){return e.toUpperCase().charCodeAt(0)-65},t.message=e.toUpperCase(),t.keySettings=r,t.ringSettings=i,t.plugboardSettings=a,t.rotorSettings=u,t}return o}(n);function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gt(e,t){return gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gt(e,t)}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=vt(n);if(o){var a=vt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==ht(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"vigenere",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f+l)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f-l+26)%26+65),a+=1}else i+=c}return i},t}return t=a,(r=[{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&dt(t.prototype,r),a}(n);function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function St(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wt(e,t){return wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wt(e,t)}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ot(n);if(o){var a=Ot(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==mt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"beaufort",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Beaufort cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((l-f+26)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.encode(e,r)},t}return t=a,(r=[{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&St(t.prototype,r),a}(n);function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jt(e,t){return jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jt(e,t)}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Rt(n);if(o){var a=Rt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Et(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"porta",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Porta cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=o[a%o.length],l=t.getPairIndex(f),s=t.alphabetPairs[l],p=c.charCodeAt(0)-65;i+=s[0][p],a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Porta cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=o[a%o.length],l=t.getPairIndex(f),s=t.alphabetPairs[l][0].indexOf(c);i+=-1!==s?String.fromCharCode(s+65):c,a+=1}else i+=c}return i},t.alphabetPairs=t.generateAlphabetPairs(),t}return t=a,(r=[{key:"generateAlphabetPairs",value:function(){for(var e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<13;r++){for(var n=[],o="",i=0;i<13;i++)o+=t[(i+r)%13];for(var a=0;a<13;a++)o+=t[25-(a+r)%13];for(var u="",c=0;c<26;c++){var f=t[c];u+=t[o.indexOf(f)]}n.push(o),n.push(u),e.push(n)}return e}},{key:"getPairIndex",value:function(e){return(e.toUpperCase().charCodeAt(0)-65)%13}}])&&Ct(t.prototype,r),a}(n);function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function It(e,t){return It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},It(e,t)}function Tt(e){return Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(e)}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Tt(n);if(o){var a=Tt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==kt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12345",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"gronsfeld",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Gronsfeld cipher requires a non-empty numeric keyword");var n=e.toUpperCase(),o=r.replace(/[^0-9]/g,"");if(0===o.length)throw new Error("Gronsfeld cipher requires a numeric keyword (digits 0-9)");for(var i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f+l)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Gronsfeld cipher requires a non-empty numeric keyword");var n=e.toUpperCase(),o=r.replace(/[^0-9]/g,"");if(0===o.length)throw new Error("Gronsfeld cipher requires a numeric keyword (digits 0-9)");for(var i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f-l+26)%26+65),a+=1}else i+=c}return i},t}return t=a,(r=[{key:"getShift",value:function(e){var t=parseInt(e,10);return isNaN(t)?0:t}}])&&_t(t.prototype,r),a}(n);function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qt(e,t){return qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qt(e,t)}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}var xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Mt(n);if(o){var a=Mt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Ut(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire1",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=t.generateCipherAlphabet(r),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];/[A-Z]/.test(f)?(a+=i[(f.charCodeAt(0)-65+t.getShift(o[u%o.length]))%26],u+=1):a+=f}return a},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=t.generateCipherAlphabet(r),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=t.getShift(o[u%o.length]),s=i.indexOf(f);if(-1!==s){var p=(s-l+26)%26;a+=String.fromCharCode(p+65)}else a+=f;u+=1}else a+=f}return a},t.cipherAlphabet=n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t}return t=a,(r=[{key:"generateCipherAlphabet",value:function(e){if(this.cipherAlphabet&&26===this.cipherAlphabet.length)return this.cipherAlphabet.toUpperCase();var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(o+=a,n.add(a))}}catch(e){i.e(e)}finally{i.f()}for(var u=65;u<=90;u++){var c=String.fromCharCode(u);n.has(c)||(o+=c)}return o}},{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&Kt(t.prototype,r),a}(n);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gt(e,t){return Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gt(e,t)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ht(n);if(o){var a=Ht(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Zt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire2",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(t.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=i[u%i.length];a+=t.generateCipherAlphabet(l)[(f.charCodeAt(0)-65+t.getShift(o[u%o.length]))%26],u+=1}else a+=f}return a},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(g.validateMessage(e),g.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(t.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=i[u%i.length],s=t.generateCipherAlphabet(l),p=t.getShift(o[u%o.length]),y=s.indexOf(f);if(-1!==y){var h=(y-p+26)%26;a+=String.fromCharCode(h+65)}else a+=f;u+=1}else a+=f}return a},t.indicator=n||"A",t}return t=a,r=[{key:"generateCipherAlphabet",value:function(e){for(var t=e.toUpperCase().charCodeAt(0)-65,r="",n=0;n<26;n++){var o=(n+t)%26;r+=String.fromCharCode(o+65)}return r}},{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}],r&&Lt(t.prototype,r),a}(n);function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xt(e,t){return Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xt(e,t)}function Jt(e){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jt(e)}function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}const tr={Vigenere:bt,Beaufort:At,Porta:Pt,Gronsfeld:Dt,Quagmire1:xt,Quagmire2:Ft,Quagmire3:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Jt(n);if(o){var a=Jt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Vt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire3",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;if(g.validateMessage(e),g.validateKey(t.key,"string"),g.validateKey(r,"string"),!t.key||0===t.key.length)throw new Error("Quagmire III cipher requires a non-empty keyword");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f+s)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;g.validateMessage(e),g.validateKey(t.key,"string"),g.validateKey(r,"string");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f-s+26)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.indicator=n||"KEY",t.keyedAlphabet=t.buildKeyedAlphabet(r),t}return t=a,(r=[{key:"buildKeyedAlphabet",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(n.add(a),o+=a)}}catch(e){i.e(e)}finally{i.f()}for(var u=0;u<26;u++){var c=String.fromCharCode(65+u);n.has(c)||(n.add(c),o+=c)}return o}},{key:"indexInKeyed",value:function(e){return this.keyedAlphabet.indexOf(e.toUpperCase())}}])&&Qt(t.prototype,r),a}(n),Quagmire4:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=er(n);if(o){var a=er(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Bt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ABC",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,u,"quagmire4",r,"",c)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;if(g.validateMessage(e),g.validateKey(t.key,"string"),g.validateKey(r,"string"),!t.key||0===t.key.length)throw new Error("Quagmire IV cipher requires a non-empty keyword");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f+s)%26;i+=t.cipherKeyedAlphabet[p],a++}}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;g.validateMessage(e),g.validateKey(t.key,"string"),g.validateKey(r,"string");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInCipherKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f-s+26)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.indicator=n||"ABC",t.cipherAlphabet=o||"",t.keyedAlphabet=t.buildKeyedAlphabet(r),t.cipherKeyedAlphabet=t.buildCipherKeyedAlphabet(r),t}return t=a,(r=[{key:"buildKeyedAlphabet",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(n.add(a),o+=a)}}catch(e){i.e(e)}finally{i.f()}for(var u=0;u<26;u++){var c=String.fromCharCode(65+u);n.has(c)||(n.add(c),o+=c)}return o}},{key:"buildCipherKeyedAlphabet",value:function(e){return this.cipherAlphabet&&26===this.cipherAlphabet.length?this.cipherAlphabet.toUpperCase():this.buildKeyedAlphabet(e)}},{key:"indexInKeyed",value:function(e){return this.keyedAlphabet.indexOf(e.toUpperCase())}},{key:"indexInCipherKeyed",value:function(e){return this.cipherKeyedAlphabet.indexOf(e.toUpperCase())}}])&&zt(t.prototype,r),a}(n)};var rr=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getTestMessage=function(e){return t.testMessages[e]},this.getChar=function(e){return t.alphabet[e]},this.setChar=function(e,r){return t.alphabet[e]=r,t.processMessage()},this.resetAlphabet=function(){return Object.keys(t.alphabet).map(function(e,r){return t.alphabet[e]=e}),t.processMessage()},this.swapChar=function(e,r){var n=t.alphabet[e];return t.alphabet[e]=t.alphabet[r],t.alphabet[r]=n,t.processMessage()},this.setByFrequency=function(){var e=t.sortProperties(t.freqAnalysis(t.message)),r=t.sortProperties(t.getSLFreq()),n=0;do{t.setChar(String(r[n][0]).toLowerCase(),String(e[n][0]).toLowerCase()),n+=1}while(n<e.length-1);return t.processMessage()},this.processMessage=function(){var e="";return t.message.split("").forEach(function(r){var n=t.alphabet[r];e+=""!==n?n:"?"}),e},this.getSLFreq=function(){return f},this.getS2Freq=function(){return l},this.getS3Freq=function(){return s},this.getS4Freq=function(){return p},this.freqAnalysis=function(){var e={},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("");t.forEach(function(t){t in e?e[t]+=1:e[t]=1});var r=t.length;return Object.keys(e).forEach(function(t){var n=e[t];e[t]=parseFloat((n/r*100).toFixed(3))}),e},this.sortProperties=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",r=[];return e.forEach(function(t){r.push([t,e[t]])}),"asc"===t?r.sort(function(e,t){return e[1]-t[1]}):r.sort(function(e,t){return t[1]-e[1]}),r},this.testMessages=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","Las dos jornadas tuvieron un denominador común: insistir, y mucho, en educar en temas financieros, a los efectos de que la gente tenga claro cuáles son las ventajas y riesgos a los que se enfrenta.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus suscipit velit vitae vulputate. Vivamus vel tempus lacus. Fusce dictum, leo id porttitor dapibus, leo diam rutrum nulla, ut feugiat","La posición de Washington hacia las elecciones en Palestina ha sido coherente. Las elecciones fueron postergadas hasta la muerte de Yasser Arafat, que fue recibida como una oportunidad para la realización  "],this.message=r,this.alphabet={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"}};return t})());