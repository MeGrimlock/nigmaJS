!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.nigmajs=t():e.nigmajs=t()}(this,()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.r(t),e.d(t,{BasicCipher:()=>n,Columnar:()=>R,Dictionary:()=>Fe,Enigma:()=>pt,LanguageAnalysis:()=>p,Polyalphabetic:()=>er,Shift:()=>ct,default:()=>tr});var n=function(){function e(t,r,n,o,i,a){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getMsg=function(){return u.message},this.getEncoded=function(){return u.encoded},this.getMethod=function(){return u.method},this.getKey=function(){return u.key},this.getAlphabet=function(){return u.alphabet},this.shiftCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(t)>26&&(t%=26),t<0&&(t+=26);for(var r="",n=0;n<e.length;n+=1){var o=e[n];if(o.match(/[a-z]/i)){var i=e.charCodeAt(n);i>=65&&i<=90?o=String.fromCharCode((i-65+t)%26+65):i>=97&&i<=122&&(o=String.fromCharCode((i-97+t)%26+97))}r+=o}return r},this.text2block=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e,n=(r=r.replace(/ /g,""))[0],o=1;do{o%t===0&&(n+=" "),n+=r[o],o+=1}while(o<r.length);return n},this.encodeAlphabet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return e.toLowerCase().split(" ").map(function(e){e.split("").map(function(e){var r=u.getKeyByValue(u.alphabet,e);void 0!==r&&(n+=r+t)}),t.length>0&&(n=n.slice(0,-t.length)),n+=r}),r.length>0&&(n=n.slice(0,-r.length)),n},this.decodeAlphabet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return e.split(r).map(function(e){e.split(t).map(function(e){var t=u.alphabet[e];void 0!==t&&(n+=t)}),n+=" "}),n=n.slice(0,-1)},this.validateEncoded=function(){return!0===u.encoded&&null!=u.message&&""!==u.message},this.transposeMatrix=function(e){return e[0].map(function(t,r){return e.map(function(e){return e[r]})})},this.getKeyByValue=function(e,t){return Object.keys(e).find(function(r){return e[r]===t})},this.logMessage=function(e){u.debug&&console.log(e)},this.test=function(){return"NigmaJS enabled"},this.message=t,this.encoded=r,this.method=n,this.key=null!=o?o:"",this.alphabet=i,this.debug=a}var t,n;return t=e,(n=[{key:"setMsg",value:function(e){return this.message=e,this}},{key:"setEncoded",value:function(e){return this.encoded=e,this}},{key:"setMethod",value:function(e){return this.method=e,this}},{key:"setKey",value:function(e){return this.key=e,this}},{key:"setAlphabet",value:function(e){return this.alphabet=e,this}},{key:"sortColumns",value:function(e,t){return e[0]===t[0]?0:e[0]<t[0]?-1:1}}])&&r(t.prototype,n),e}();const o={monograms:{A:12.5,B:1.27,C:4.43,D:5.14,E:13.24,F:.79,G:1.17,H:.81,I:6.91,J:.45,K:.08,L:5.84,M:2.61,N:7.09,Ñ:.22,O:8.98,P:2.75,Q:.83,R:6.62,S:7.44,T:4.42,U:4,V:.98,W:.03,X:.19,Y:.79,Z:.42},bigrams:{DE:2.57,AD:1.43,TA:1.09,ES:2.31,AR:1.43,TE:1,EN:2.27,RE:1.42,OR:.98,EL:2.01,AL:1.33,DO:.98,LA:1.8,AN:1.24,IO:.98,OS:1.79,NT:1.22,AC:.96,ON:1.61,UE:1.21,ST:.95,AS:1.56,CI:1.15,NA:.92,ER:1.52,CO:1.13,RO:.85,RA:1.47,SE:1.11,UN:.84},trigrams:{DEL:.75,EST:.48,PAR:.32,QUE:.74,LOS:.47,DES:.31,ENT:.67,ODE:.47,ESE:.3,ION:.56,ADO:.45,IEN:.3,ELA:.55,RES:.4,ALA:.29,CON:.54,STA:.38,POR:.29,SDE:.52,ACI:.36,ONE:.29,ADE:.51,LAS:.35,NDE:.29,CIO:.5,ARA:.34,TRA:.28,NTE:.49,ENE:.32,NES:.27},quadgrams:{CION:.42,MENT:.16,NCIA:.14,DELA:.33,IONE:.16,AQUE:.14,ACIO:.27,ODEL:.16,SQUE:.14,ENTE:.25,ONDE:.16,ENCI:.13,ESTA:.22,OQUE:.15,ENLA:.13,ESDE:.22,IDAD:.15,ENTR:.13,PARA:.19,ELOS:.15,IENT:.12,ONES:.17,ADEL:.15,ASDE:.12,SDEL:.17,ANTE:.15,ENEL:.12,OSDE:.17,ENTO:.14,DELO:.12}};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u={spanish:o,english:{monograms:{E:12.02,T:9.1,A:8.12,O:7.68,I:7.31,N:6.95,S:6.28,R:6.02,H:5.92,D:4.32,L:3.98,U:2.88,C:2.71,M:2.61,F:2.3,Y:2.11,W:2.09,G:2.03,P:1.82,B:1.49,V:1.11,K:.69,X:.17,Q:.11,J:.1,Z:.07},bigrams:{TH:3.56,HE:3.07,IN:2.43,ER:2.05,AN:1.99,RE:1.85,ON:1.76,AT:1.49,EN:1.49,ND:1.35,TI:1.34,ES:1.34,OR:1.28,TE:1.2,OF:1.17,ED:1.17,IS:1.13,IT:1.12,AL:1.09,AR:1.07,ST:1.05,TO:1.04,NT:1.04,NG:.95,SE:.93,HA:.93,AS:.87,OU:.87,IO:.83,LE:.83},trigrams:{THE:3.51,AND:1.59,ING:1.15,HER:.82,HAT:.71,HIS:.6,THA:.59,ERE:.56,FOR:.56,ENT:.53,ION:.51,TER:.46,WAS:.46,YOU:.44,ITH:.43,VER:.43,ALL:.42,WIT:.4,THI:.39,TIO:.38,NDE:.37,HAS:.37,NCE:.36,EDT:.35,TIS:.34,OFT:.34,STH:.33,MEN:.33},quadgrams:{THAT:.76,THER:.6,WITH:.57,TION:.55,HERE:.37,OULD:.37,IGHT:.31,HAVE:.31,HICH:.28,WHIC:.28,THIS:.27,THIN:.27,THEY:.26,ATIO:.26,EVER:.26,FROM:.25,OUGH:.25,WERE:.23,HING:.23,MENT:.22}}},c=o.monograms,f=o.bigrams,l=o.trigrams,s=o.quadgrams,p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"getLetterFrequencies",value:function(e){var t=e.toUpperCase().replace(/[^A-ZÑ]/g,""),r=t.length,n={};if(0===r)return{};var o,a=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(a.s();!(o=a.n()).done;){var u=o.value;n[u]=(n[u]||0)+1}}catch(e){a.e(e)}finally{a.f()}var c={};for(var f in n)c[f]=n[f]/r*100;return c}},{key:"getNgramFrequencies",value:function(e,t){var r=e.toUpperCase().replace(/[^A-ZÑ]/g,""),n={},o=0;if(r.length<t)return{};for(var i=0;i<=r.length-t;i++){var a=r.substring(i,i+t);n[a]=(n[a]||0)+1,o++}var u={};for(var c in n)u[c]=n[c]/o*100;return u}},{key:"calculateChiSquared",value:function(e,t){var r=0;for(var n in t){var o=e[n]||0,i=t[n];r+=Math.pow(o-i,2)/i}return r}},{key:"analyzeCorrelation",value:function(e){var t=u[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spanish"]||u.spanish,r=this.getLetterFrequencies(e),n=this.getNgramFrequencies(e,2),o=this.getNgramFrequencies(e,3),i=this.getNgramFrequencies(e,4);return{monograms:{score:this.calculateChiSquared(r,t.monograms),frequencies:r},bigrams:{score:this.calculateChiSquared(n,t.bigrams),frequencies:n},trigrams:{score:this.calculateChiSquared(o,t.trigrams),frequencies:o},quadgrams:{score:this.calculateChiSquared(i,t.quadgrams),frequencies:i}}}},{key:"analyzeSpanishCorrelation",value:function(e){return this.analyzeCorrelation(e,"spanish")}}],null&&a(t.prototype,null),r&&a(t,r),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}p.spanishLetterFrequencies=o.monograms,p.spanishBigramFrequencies=o.bigrams,p.spanishTrigramFrequencies=o.trigrams,p.spanishQuadgramFrequencies=o.quadgrams,p.languages=u;var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"validateMessage",value:function(e){if(null==e)throw new TypeError("Message cannot be null or undefined");if("string"!=typeof e)throw new TypeError("Message must be a string, got ".concat(y(e)));if(""===e.trim())throw new Error("Message cannot be empty");return!0}},{key:"validateKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if(null==e)throw new TypeError("Key cannot be null or undefined");if("number"===t&&"number"!=typeof e)throw new TypeError("Key must be a number, got ".concat(y(e)));if("string"===t&&"string"!=typeof e)throw new TypeError("Key must be a string, got ".concat(y(e)));if("number"===t&&isNaN(e))throw new TypeError("Key must be a valid number, got NaN");return!0}},{key:"validateAlphabet",value:function(e){if(null==e)throw new TypeError("Alphabet cannot be null or undefined");if("object"!==y(e))throw new TypeError("Alphabet must be an object, got ".concat(y(e)));if(Array.isArray(e))throw new TypeError("Alphabet must be an object, not an array");return!0}},{key:"validateBoolean",value:function(e){if("boolean"!=typeof e)throw new TypeError("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value"," must be a boolean, got ").concat(y(e)));return!0}}],null&&h(t.prototype,null),r&&h(t,r),e}();function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}const R={Amsco:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=m(t);if(r){var a=m(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==v(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,i,"amsco",t,"",a)).decodingConstructor=function(e,t){var n=t.split("").map(function(e){return e-1}),o=[];n.map(function(e){o.push([e])});var i=r.generateDecodingMatrix(e.length,n,1,2);return[o,i,n]},r.validateKey=function(){var e=!0,t=r.key.split("").sort(),n=/^\d+$/;if(r.logMessage("Check for [0-9] chars only: ".concat(n.test(r.key)," key analyzed : ").concat(r.key)),n.test(r.key)){r.logMessage("Numbers only Key: ".concat(t," "));var o=0;do{var i=t[o];r.logMessage("Validating ... Char ".concat(i," of type ").concat(v(i)," at ").concat(o)),i===(1+o).toString()?o+=1:(e=!1,r.logMessage("Sequence not validated"))}while(!0===e&&o<t.length)}else r.logMessage("Invalid key, Non numbers detected"),e=!1;return e},r.generateDecodingMatrix=function(e,t,r,n){var o=[],i=r||1,a=n||2;t.map(function(e){o.push([])});var u=0;do{o.forEach(function(t){u<e?e-u>i?t.push(i):t.push(e-u):t.push(0),u+=i,i=i===r?a:r}),i=i===r?a:r}while(u<e);return o},r.processMatrixDecoding=function(e,t,n){var o=0,i=1,a=0,u=e,c=t,f=n;do{var l=0,s=f.indexOf(a);do{i=o+c[s][l];var p=r.message.slice(o,i);u[s].push(p),o=i,l+=1}while(l<c[s].length);a+=1}while(a<c.length);return u},r.decode=function(){d.validateMessage(r.message);var e=[];if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");var t=r.decodingConstructor(r.message,r.key);return e=r.processMatrixDecoding(t[0],t[1],t[2]),(e=r.transposeMatrix(e)).shift(),e=(e=e.map(function(e){return e.join("")})).join(""),r.logMessage("Done decoding: ".concat(e)),e},r.encode=function(){d.validateMessage(r.message);var e="",t=[],n=[],o="";if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");e=r.message.replace(/\s+/g,"").toLocaleUpperCase();var i,a,u=r.decodingConstructor(r.message,r.key),c=(a=1,function(e){if(Array.isArray(e))return e}(i=u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(i,a)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());t=c[0],n=r.transposeMatrix(u[1]);var f=0,l=0;return n.forEach(function(r){r.forEach(function(n){t[l].push(e.slice(f,f+n)),f+=n,l<r.length-1?l+=1:l=0})}),t.sort(r.sortFunction),t.forEach(function(e){e.shift(),o+=e.join("")}),o},r}return o}(n),RailFence:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=O(t);if(r){var a=O(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==w(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,i,"railFence",r,"",a)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rails;if(d.validateMessage(e),d.validateKey(r,"number"),r<2)throw new Error("Rail Fence cipher requires at least 2 rails");var n=e.toUpperCase().replace(/[^A-Z]/g,"");if(0===n.length)return"";for(var o=[],i=0;i<r;i++)o[i]=[];for(var a=0,u=1,c=0;c<n.length;c++)o[a].push(n[c]),0===a?u=1:a===r-1&&(u=-1),a+=u;for(var f="",l=0;l<r;l++)f+=o[l].join("");return f},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rails;if(d.validateMessage(e),d.validateKey(r,"number"),r<2)throw new Error("Rail Fence cipher requires at least 2 rails");var n=e.toUpperCase().replace(/[^A-Z]/g,"");if(0===n.length)return"";for(var o=[],i=0;i<r;i++)o[i]=[];for(var a=[],u=0,c=1,f=0;f<n.length;f++)a.push({index:f,row:u}),0===u?c=1:u===r-1&&(c=-1),u+=c;var l=new Array(r).fill(0);a.forEach(function(e){l[e.row]++});for(var s=0,p=0;p<r;p++)for(var y=0;y<l[p];y++)s<n.length&&(o[p].push(n[s]),s++);var h=new Array(r).fill(0),g="";u=0,c=1;for(var v=0;v<n.length;v++)g+=o[u][h[u]],h[u]++,0===u?c=1:u===r-1&&(c=-1),u+=c;return g},t.rails=r||3,t}return o}(n),Route:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=j(n);if(o){var a=j(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==A(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"spiral",u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,u,"route",r,"",c)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rows,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.cols,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.route;if(d.validateMessage(e),d.validateKey(r,"number"),d.validateKey(n,"number"),r<2||n<2)throw new Error("Route cipher requires at least 2 rows and 2 columns");t.rows=r,t.cols=n,t.route=o||"spiral";var i=t.createGrid(e);return t.readGrid(i)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rows,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.cols,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.route;if(d.validateMessage(e),d.validateKey(r,"number"),d.validateKey(n,"number"),r<2||n<2)throw new Error("Route cipher requires at least 2 rows and 2 columns");t.rows=r,t.cols=n,t.route=o||"spiral";for(var i=e.toUpperCase().replace(/[^A-Z]/g,""),a=t.writeGrid(i),u="",c=0;c<t.rows;c++)for(var f=0;f<t.cols;f++)u+=a[c][f];return u.replace(/X+$/,"")},t.rows=r||5,t.cols=n||5,t.route=o||"spiral",t}return t=a,(r=[{key:"createGrid",value:function(e){for(var t=e.toUpperCase().replace(/[^A-Z]/g,""),r=[],n=0;n<this.rows;n++){r[n]=[];for(var o=0;o<this.cols;o++){var i=n*this.cols+o;r[n][o]=i<t.length?t[i]:"X"}}return r}},{key:"readSpiral",value:function(e){for(var t="",r=0,n=this.rows-1,o=0,i=this.cols-1;r<=n&&o<=i;){for(var a=o;a<=i;a++)t+=e[r][a];for(var u=++r;u<=n;u++)t+=e[u][i];if(i--,r<=n){for(var c=i;c>=o;c--)t+=e[n][c];n--}if(o<=i){for(var f=n;f>=r;f--)t+=e[f][o];o++}}return t}},{key:"writeSpiral",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0,i=this.rows-1,a=0,u=this.cols-1;o<=i&&a<=u&&n<e.length;){for(var c=a;c<=u&&n<e.length;c++)t[o][c]=e[n++];for(var f=++o;f<=i&&n<e.length;f++)t[f][u]=e[n++];if(u--,o<=i){for(var l=u;l>=a&&n<e.length;l--)t[i][l]=e[n++];i--}if(a<=u){for(var s=i;s>=o&&n<e.length;s--)t[s][a]=e[n++];a++}}return t}},{key:"readZigzag",value:function(e){for(var t="",r=0;r<this.rows;r++)if(r%2==0)for(var n=0;n<this.cols;n++)t+=e[r][n];else for(var o=this.cols-1;o>=0;o--)t+=e[r][o];return t}},{key:"writeZigzag",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0;o<this.rows&&n<e.length;o++)if(o%2==0)for(var i=0;i<this.cols&&n<e.length;i++)t[o][i]=e[n++];else for(var a=this.cols-1;a>=0&&n<e.length;a--)t[o][a]=e[n++];return t}},{key:"readColumn",value:function(e){for(var t="",r=0;r<this.cols;r++)for(var n=0;n<this.rows;n++)t+=e[n][r];return t}},{key:"writeColumn",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0;o<this.cols&&n<e.length;o++)for(var i=0;i<this.rows&&n<e.length;i++)t[i][o]=e[n++];return t}},{key:"readGrid",value:function(e){switch(this.route.toLowerCase()){case"spiral":default:return this.readSpiral(e);case"zigzag":return this.readZigzag(e);case"column":return this.readColumn(e)}}},{key:"writeGrid",value:function(e){switch(this.route.toLowerCase()){case"spiral":default:return this.writeSpiral(e);case"zigzag":return this.writeZigzag(e);case"column":return this.writeColumn(e)}}}])&&C(t.prototype,r),a}(n)};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=k(t);if(r){var a=k(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==P(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"atbash","",{4:"a",3:"b",2:"c",1:"d",0:"e",z:"f",y:"g",x:"h",w:"i",v:"j",u:"k",t:"l",s:"m",r:"n",q:"o",p:"p",o:"q",n:"r",m:"s",l:"t",k:"u",j:"v",i:"w",h:"x",g:"y",f:"z",e:"0",d:"1",c:"2",b:"3",a:"4","!":"5","?":"6",",":"7",".":"8"," ":"9",9:" ",8:".",7:",",6:"?",5:"!"},i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep=" ",t.characterSep="",t}return o}(n);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=K(t);if(r){var a=K(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==T(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t,r,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=n.call(this,e,r,"autoKey",t,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=e.toLowerCase().replace(/[^a-z]/g,""),n=t.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>=1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97+(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97+(r.charCodeAt(i-n.length)-97)+26)%26+97);return o},a.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=e.toLowerCase().replace(/[^a-z]/g,""),n=t.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97-(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97-(o.charCodeAt(i-n.length)-97)+26)%26+97);return o},a}return o}(n);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function M(e){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},M(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=M(t);if(r){var a=M(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==q(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"baconian","",{aaaaa:"a",aaaab:"b",aaaba:"c",aaabb:"d",aabaa:"e",aabab:"f",aabba:"g",aabbb:"h",abaaa:"i",abaab:"j",ababa:"k",ababb:"l",abbaa:"m",abbab:"n",abbba:"o",abbbb:"p",baaaa:"q",baaab:"r",baaba:"s",baabb:"t",babaa:"u",babab:"v",babba:"w",babbb:"x",bbaaa:"y",bbaab:"z"},i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep="   ",t.characterSep=" ",t}return o}(n);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=H(t);if(r){var a=H(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==N(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var f={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"};return(r=n.call(this,e,u,"simpleSubstitution",t,f,c)).getI=function(){return r.i},r.getV=function(){return r.v},r.validateKey=function(e){var t=e.replace(/\s/g,"");return t.toLowerCase()},r.validateRemovedChars=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.v;return!0===t&&106===e||!0===n&&118===e},r.putLetter2Alphabet=function(e,t,n,o){var i=n,a=o;return t.includes(e)||r.validateRemovedChars(e.charCodeAt(0))||(r.validateRemovedChars(a,r.i,r.v)&&(delete i[String.fromCharCode(a)],a+=1),i[String.fromCharCode(a)]=e,t.push(e),a+=1),[e,t,i,a]},r.alphabetConstructor=function(e,t){var n=[],o=97;t.split("").forEach(function(t){var i=L(r.putLetter2Alphabet(t,n,e,o),4);t=i[0],n=i[1],e=i[2],o=i[3]});var i=97,a="";do{a=String.fromCharCode(i);var u=L(r.putLetter2Alphabet(a,n,e,o),4);a=u[0],n=u[1],e=u[2],o=u[3],i+=1}while(o<123);return e},r.encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return d.validateMessage(e),r.encodeAlphabet(e,r.characterSep,r.wordSep)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return d.validateMessage(e),r.decodeAlphabet(e,r.characterSep,r.wordSep)},r.i=i,r.v=a,r.key=r.validateKey(t),r.setAlphabet(r.alphabetConstructor(f,r.key)),r.wordSep=" ",r.characterSep="",r}return o}(n);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function B(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e,t){return $=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$(e,t)}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ae(e,t){return ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ae(e,t)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e,t){return ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ge(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function me(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return _e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_e(e,t)}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Te(e,t){if(e){if("string"==typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ue(e,t){return Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ue(e,t)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Me(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}const Fe={Atbash:I,Autokey:U,Baconian:Z,Bazeries:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=V(t);if(r){var a=V(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Y(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,t,!0,!1,i,"",{},a)).transpositionAlphabet=function(e,t){var n=r.alphabet,o=[],i=[];Object.keys(n).forEach(function(e){e.charCodeAt(0)>=97&&e.charCodeAt(0)<=123&&i.push(n[e]),i.length===t&&(o.push(i),i=[])}),o=(o=r.transposeMatrix(o)).join();var a=97;o.split(",").forEach(function(e){n[String.fromCharCode(a)]=e,a+=1}),r.setAlphabet(n)},r.encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.encodeAlphabet(e,r.characterSep,r.wordSep)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.decodeAlphabet(e,r.characterSep,r.wordSep)},r.method="bazeries",r.wordSep=" ",r.characterSep="",r.transpositionAlphabet(5,5),r}return o}(X),Bifid:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ee(n);if(o){var a=ee(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==J(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"bifid",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;d.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n=e.toUpperCase().replace(/[^A-Z]/g,"").replace(/J/g,"I");if(0===n.length)return"";var o,i=[],a=[],u=B(n);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=t.findPosition(c);f&&(i.push(f.row),a.push(f.col))}}catch(e){u.e(e)}finally{u.f()}for(var l=i.concat(a),s="",p=0;p<l.length-1;p+=2){var y=l[p],h=l[p+1];s+=t.getLetter(y,h)}return s},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;d.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n=e.toUpperCase().replace(/[^A-Z]/g,"").replace(/J/g,"I");if(0===n.length)return"";var o,i=[],a=B(n);try{for(a.s();!(o=a.n()).done;){var u=o.value,c=t.findPosition(u);c&&(i.push(c.row),i.push(c.col))}}catch(e){a.e(e)}finally{a.f()}for(var f=Math.ceil(i.length/2),l=i.slice(0,f),s=i.slice(f),p="",y=0;y<l.length;y++){var h=l[y],g=void 0!==s[y]?s[y]:0;p+=t.getLetter(h,g)}return p},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").split("").filter(function(e,t,r){return/[A-Z]/.test(e)&&r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getLetter",value:function(e,t){return e>=0&&e<5&&t>=0&&t<5?this.grid[e][t]:""}}],r&&z(t.prototype,r),a}(n),FourSquare:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ue(n);if(o){var a=ue(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==te(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EXAMPLE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEYWORD",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"fourSquare",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keyword1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.keyword2;d.validateMessage(e),d.validateKey(r,"string"),d.validateKey(n,"string");var o=r?r.toUpperCase().replace(/[^A-Z]/g,""):"",i=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length||!i||0===i.length)throw new Error("Four-Square cipher requires two non-empty keywords");r===t.keyword1&&n===t.keyword2||(t.squares=t.generateSquares(r,n),t.keyword1=r,t.keyword2=n);var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=ne(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(c.s();!(a=c.n()).done;){var f=re(a.value,2),l=f[0],s=f[1];u+=t.encodeDigraph(l,s)}}catch(e){c.e(e)}finally{c.f()}return u},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keyword1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.keyword2;d.validateMessage(e),d.validateKey(r,"string"),d.validateKey(n,"string");var o=r?r.toUpperCase().replace(/[^A-Z]/g,""):"",i=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length||!i||0===i.length)throw new Error("Four-Square cipher requires two non-empty keywords");r===t.keyword1&&n===t.keyword2||(t.squares=t.generateSquares(r,n),t.keyword1=r,t.keyword2=n);for(var a=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),u=[],c=0;c<a.length;c+=2)c+1<a.length&&u.push([a[c],a[c+1]]);for(var f="",l=0,s=u;l<s.length;l++){var p=re(s[l],2),y=p[0],h=p[1];f+=t.decodeDigraph(y,h)}return f},t.keyword1=r,t.keyword2=n,t.squares=t.generateSquares(r,n),t}return t=a,(r=[{key:"generateSquares",value:function(e,t){return{square1:this.generateStandardSquare(),square2:this.generateKeyedSquare(e),square3:this.generateKeyedSquare(t),square4:this.generateStandardSquare()}}},{key:"generateStandardSquare",value:function(){for(var e=[],t=0;t<5;t++){e[t]=[];for(var r=0;r<5;r++)e[t][r]="ABCDEFGHIKLMNOPQRSTUVWXYZ"[5*t+r]}return e}},{key:"generateKeyedSquare",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),r=new Set(t.split("")),n=t+"ABCDEFGHIKLMNOPQRSTUVWXYZ".split("").filter(function(e){return!r.has(e)}).join(""),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e,t){for(var r=t.toUpperCase().replace(/J/g,"I"),n=0;n<5;n++)for(var o=0;o<5;o++)if(e[n][o]===r)return{row:n,col:o};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square1,e),n=this.findPosition(this.squares.square4,t);return r&&n?this.squares.square2[r.row][n.col]+this.squares.square3[n.row][r.col]:e+t}},{key:"decodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square2,e),n=this.findPosition(this.squares.square3,t);return r&&n?this.squares.square1[r.row][n.col]+this.squares.square4[n.row][r.col]:e+t}}])&&ie(t.prototype,r),a}(n),Morse:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=le(t);if(r){var a=le(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==ce(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"morse","",{"-----":"0",".----":"1","..---":"2","...--":"3","....-":"4",".....":"5","-....":"6","--...":"7","---..":"8","----.":"9",".-":"a","-...":"b","-.-.":"c","-..":"d",".":"e","..-.":"f","--.":"g","....":"h","..":"i",".---":"j","-.-":"k",".-..":"l","--":"m","-.":"n","---":"o",".--.":"p","--.-":"q",".-.":"r","...":"s","-":"t","..-":"u","...-":"v",".--":"w","-..-":"x","-.--":"y","--..":"z","/":" ","-·-·--":"!","·-·-·-":".","--··--":","})).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return d.validateMessage(e),t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return d.validateMessage(e),t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep="   ",t.characterSep=" ",t}return o}(n),Playfair:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ve(n);if(o){var a=ve(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==se(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"playfair",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Playfair cipher requires a non-empty keyword");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=ye(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(i.s();!(n=i.n()).done;){var a=pe(n.value,2),u=a[0],c=a[1];o+=t.encodeDigraph(u,c,1)}}catch(e){i.e(e)}finally{i.f()}return o},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Playfair cipher requires a non-empty keyword");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);for(var n=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),o=[],i=0;i<n.length;i+=2)i+1<n.length&&o.push([n[i],n[i+1]]);for(var a="",u=0,c=o;u<c.length;u++){var f=pe(c[u],2),l=f[0],s=f[1];a+=t.encodeDigraph(l,s,-1)}return a},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYWORD").toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),t="ABCDEFGHIKLMNOPQRSTUVWXYZ",r=new Set(e.split("")),n=e+(t=t.split("").filter(function(e){return!r.has(e)}).join("")),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X"===o?"Q":"X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.findPosition(e),a=this.findPosition(t);return i&&a?(i.row===a.row?(r={row:i.row,col:(i.col+o+5)%5},n={row:a.row,col:(a.col+o+5)%5}):i.col===a.col?(r={row:(i.row+o+5)%5,col:i.col},n={row:(a.row+o+5)%5,col:a.col}):(r={row:i.row,col:a.col},n={row:a.row,col:i.col}),this.grid[r.row][r.col]+this.grid[n.row][n.col]):e+t}}],r&&de(t.prototype,r),a}(n),Polybius:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ae(n);if(o){var a=Ae(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==be(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"polybius",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;d.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=me(e.toUpperCase().replace(/[^A-Z]/g,""));try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.findPosition(a);u&&(o+="".concat(u.row).concat(u.col," "))}}catch(e){i.e(e)}finally{i.f()}return o.trim()},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;d.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=me(e.match(/\d{2}/g)||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=parseInt(a[0])-1,c=parseInt(a[1])-1;u>=0&&u<5&&c>=0&&c<5&&(o+=t.grid[u][c])}}catch(e){i.e(e)}finally{i.f()}return o},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").split("").filter(function(e,t,r){return/[A-Z]/.test(e)&&r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r+1,col:n+1};return null}}],r&&Se(t.prototype,r),a}(n),SimpleSubstitution:X,TwoSquare:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ke(n);if(o){var a=ke(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Ce(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"twoSquare",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;d.validateMessage(e),d.validateKey(r,"string");var n=r?r.toUpperCase().replace(/[^A-Z]/g,""):"";if(!n||0===n.length)throw new Error("Two-Square cipher requires a non-empty keyword");r!==t.key&&(t.squares=t.generateSquares(r),t.key=r);var o,i="",a=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=je(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(a.s();!(o=a.n()).done;){var u=Ee(o.value,2),c=u[0],f=u[1];i+=t.encodeDigraph(c,f)}}catch(e){a.e(e)}finally{a.f()}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;d.validateMessage(e),d.validateKey(r,"string");var n=r?r.toUpperCase().replace(/[^A-Z]/g,""):"";if(!n||0===n.length)throw new Error("Two-Square cipher requires a non-empty keyword");r!==t.key&&(t.squares=t.generateSquares(r),t.key=r);for(var o=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),i=[],a=0;a<o.length;a+=2)a+1<o.length&&i.push([o[a],o[a+1]]);for(var u="",c=0,f=i;c<f.length;c++){var l=Ee(f[c],2),s=l[0],p=l[1];u+=t.decodeDigraph(s,p)}return u},t.squares=t.generateSquares(r),t}return t=a,(r=[{key:"generateSquares",value:function(e){return{square1:this.generateStandardSquare(),square2:this.generateKeyedSquare(e)}}},{key:"generateStandardSquare",value:function(){for(var e=[],t=0;t<5;t++){e[t]=[];for(var r=0;r<5;r++)e[t][r]="ABCDEFGHIKLMNOPQRSTUVWXYZ"[5*t+r]}return e}},{key:"generateKeyedSquare",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),r=new Set(t.split("")),n=t+"ABCDEFGHIKLMNOPQRSTUVWXYZ".split("").filter(function(e){return!r.has(e)}).join(""),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e,t){for(var r=t.toUpperCase().replace(/J/g,"I"),n=0;n<5;n++)for(var o=0;o<5;o++)if(e[n][o]===r)return{row:n,col:o};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square1,e),n=this.findPosition(this.squares.square1,t);return r&&n?this.squares.square2[r.row][r.col]+this.squares.square2[n.row][n.col]:e+t}},{key:"decodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square2,e),n=this.findPosition(this.squares.square2,t);return r&&n?this.squares.square1[r.row][r.col]+this.squares.square1[n.row][n.col]:e+t}}])&&Pe(t.prototype,r),a}(n),ADFGX:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=qe(n);if(o){var a=qe(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Ie(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"adfgx",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;d.validateMessage(e),d.validateKey(r,"string"),d.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"");if(0===i.length)return"";var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=Te(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(c.s();!(a=c.n()).done;){var f=a.value,l=t.findPosition(f);l&&(u+=t.getCoordinate(l.row),u+=t.getCoordinate(l.col))}}catch(e){c.e(e)}finally{c.f()}for(var s=o.length,p=[],y=0;y<u.length;y+=s)p.push(u.slice(y,y+s).split(""));if(p.length>0)for(;p[p.length-1].length<s;)p[p.length-1].push("X");for(var h=t.getSortedKeyIndices(n),g=[],v=0;v<s;v++)for(var b=h.indexOf(v),m=0;m<p.length;m++)g[m]||(g[m]=[]),g[m][v]=p[m][b];for(var w="",S=0;S<s;S++)for(var O=0;O<g.length;O++)g[O]&&g[O][S]&&(w+=g[O][S]);return w},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;d.validateMessage(e),d.validateKey(r,"string"),d.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^ADFGX]/g,"");if(0===i.length)return"";for(var a=o.length,u=Math.ceil(i.length/a),c=[],f=0,l=0;l<a;l++)for(var s=0;s<u;s++)c[s]||(c[s]=[]),f<i.length&&(c[s][l]=i[f],f++);for(var p=t.getSortedKeyIndices(n),y=[],h=0;h<a;h++)for(var g=p[h],v=0;v<u;v++)y[v]||(y[v]=[]),y[v][g]=c[v][h];for(var b="",m=0;m<u;m++)for(var w=0;w<a;w++)y[m]&&y[m][w]&&(b+=y[m][w]);for(var S=b.replace(/X+$/,""),O="",A=0;A<S.length-1;A+=2){var C=S[A],E=S[A+1],j=t.getCoordinateIndex(C),R=t.getCoordinateIndex(E);-1!==j&&-1!==R&&(O+=t.getChar(j,R))}return O},t.transpositionKey=n,t.grid=t.generateGrid(r),t.coordinates="ADFGX",t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getChar",value:function(e,t){return e>=0&&e<5&&t>=0&&t<5?this.grid[e][t]:""}},{key:"getCoordinate",value:function(e){return this.coordinates[e]}},{key:"getCoordinateIndex",value:function(e){return this.coordinates.indexOf(e.toUpperCase())}},{key:"getSortedKeyIndices",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,"").split(""),n=(t=r,function(e){if(Array.isArray(e))return De(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||Te(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort();return r.map(function(e){return n.indexOf(e)})}}],r&&Ke(t.prototype,r),a}(n),ADFGVX:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ge(n);if(o){var a=Ge(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==xe(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"adfgvx",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;d.validateMessage(e),d.validateKey(r,"string"),d.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGVX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^A-Z0-9]/g,"");if(0===i.length)return"";var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=Me(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(c.s();!(a=c.n()).done;){var f=a.value,l=t.findPosition(f);l&&(u+=t.getCoordinate(l.row),u+=t.getCoordinate(l.col))}}catch(e){c.e(e)}finally{c.f()}for(var s=n.toUpperCase().replace(/[^A-Z]/g,"").length,p=[],y=0;y<u.length;y+=s)p.push(u.slice(y,y+s).split(""));if(p.length>0)for(;p[p.length-1].length<s;)p[p.length-1].push("X");for(var h=t.getSortedKeyIndices(n),g=[],v=0;v<s;v++)for(var b=h.indexOf(v),m=0;m<p.length;m++)g[m]||(g[m]=[]),g[m][v]=p[m][b];for(var w="",S=0;S<s;S++)for(var O=0;O<g.length;O++)g[O]&&g[O][S]&&(w+=g[O][S]);return w},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;d.validateMessage(e),d.validateKey(r,"string"),d.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGVX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^ADFGVX]/g,"");if(0===i.length)return"";for(var a=n.toUpperCase().replace(/[^A-Z]/g,"").length,u=Math.ceil(i.length/a),c=[],f=0,l=0;l<a;l++)for(var s=0;s<u;s++)c[s]||(c[s]=[]),f<i.length&&(c[s][l]=i[f],f++);for(var p=t.getSortedKeyIndices(n),y=[],h=0;h<a;h++)for(var g=p[h],v=0;v<u;v++)y[v]||(y[v]=[]),y[v][g]=c[v][h];for(var b="",m=0;m<u;m++)for(var w=0;w<a;w++)y[m]&&y[m][w]&&(b+=y[m][w]);for(var S=b.replace(/X+$/,""),O="",A=0;A<S.length-1;A+=2){var C=S[A],E=S[A+1],j=t.getCoordinateIndex(C),R=t.getCoordinateIndex(E);-1!==j&&-1!==R&&(O+=t.getChar(j,R))}return O},t.transpositionKey=n,t.grid=t.generateGrid(r),t.coordinates="ADFGVX",t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";if(e){var r=e.toUpperCase().replace(/[^A-Z0-9]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<6;i++){o[i]=[];for(var a=0;a<6;a++)o[i][a]=t[6*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase(),r=0;r<6;r++)for(var n=0;n<6;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getChar",value:function(e,t){return e>=0&&e<6&&t>=0&&t<6?this.grid[e][t]:""}},{key:"getCoordinate",value:function(e){return this.coordinates[e]}},{key:"getCoordinateIndex",value:function(e){return this.coordinates.indexOf(e.toUpperCase())}},{key:"getSortedKeyIndices",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,"").split(""),n=(t=r,function(e){if(Array.isArray(e))return Ze(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||Me(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort();return r.map(function(e){return n.indexOf(e)})}}],r&&Ne(t.prototype,r),a}(n)};function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Xe(e,t){return Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xe(e,t)}function Ye(e){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ye(e)}function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ve(e,t){return Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ve(e,t)}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function We(e,t){return We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},We(e,t)}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){return nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nt(e,t)}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function at(e,t){return at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},at(e,t)}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}const ct={CaesarShift:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Ye(t);if(r){var a=Ye(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==He(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,i,"caesarShift",t,"",a)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return d.validateMessage(e),d.validateKey(t,"number"),r.shiftCharacters(e,t)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return d.validateMessage(e),d.validateKey(t,"number"),r.shiftCharacters(e,-t)},r}return o}(n),Rot5:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Je(t);if(r){var a=Je(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Qe(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot5",5,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot7:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=ze(t);if(r){var a=ze(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Be(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot7",7,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot13:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=tt(t);if(r){var a=tt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==$e(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot13",13,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot18:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=ot(t);if(r){var a=ot(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==rt(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot18",18,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot47:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=ut(t);if(r){var a=ut(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==it(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot47",47,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n)};function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function lt(e,t){return lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lt(e,t)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=st(t);if(r){var a=st(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==ft(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AAA",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AAA",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PO ML IU KJ NH YT GB VF RE DC",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"123",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,c,"enigma","","",f)).initialize=function(){t.rotorsettings=t.rotorSettings.replace(/[^1-9]/g,""),t.keysettings=t.keySettings.toUpperCase().replace(/[^A-Z]/g,""),t.ringsettings=t.ringSettings.toUpperCase().replace(/[^A-Z]/g,""),t.plugboardsettings=t.plugboardSettings.toUpperCase().replace(/[^A-Z]/g,"")},t.setupPlugboard=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=e.split(""),n=0,o=1;n<t.plugboardsettings.length;n+=2,o+=2){var i=e.indexOf(t.plugboardsettings.charAt(n)),a=e.indexOf(t.plugboardsettings.charAt(o)),u=r[a];r[a]=r[i],r[i]=u}return r.join("")},t.setupKey=function(){var e=t.keysettings.split("");return e[0]=t.code(e[0]),e[1]=t.code(e[1]),e[2]=t.code(e[2]),e},t.setupCode=function(){var e=t.ringsettings.split("");return e[0]=t.code(e[0]),e[1]=t.code(e[1]),e[2]=t.code(e[2]),e},t.getRotors=function(){var e=t.rotorsettings.split("");return e[0]=e[0].valueOf()-1,e[1]=e[1].valueOf()-1,e[2]=e[2].valueOf()-1,e},t.encode=function(){d.validateMessage(t.message);var e="",r=t.message.replace(/[^A-Z]/g,"");if(t.initialize(),t.validateSettings(r)){var n=t.getRotors(),o=t.setupPlugboard(),i=t.setupKey(),a=t.setupCode(),u="",c="";r.split("").forEach(function(r){(u=r).match(/[A-Z]/)?(i=t.incrementSettings(i,n),c=t.enigmaChar(u,i,n,a,o),e+=c):e+=u})}return e},t.validateSettings=function(e){var r=!0;return e.length<1&&(r=!1),3!==t.keysettings.length&&(r=!1),3!==t.ringsettings.length&&(r=!1),t.plugboardsettings.length>26&&(r=!1),t.plugboardsettings.length%2!=0&&(r=!1),3!==t.rotorsettings.length&&(r=!1),r},t.enigmaChar=function(e,r,n,o,i){var a=e;return a=t.simplesub(a,i),a=t.rotor(a,n[2],r[2]-o[2]),a=t.rotor(a,n[1],r[1]-o[1]),a=t.rotor(a,n[0],r[0]-o[0]),a=t.simplesub(a,"YRUHQSLDPXNGOKMIEBFZCWVJAT"),a=t.rotor(a,n[0]+8,r[0]-o[0]),a=t.rotor(a,n[1]+8,r[1]-o[1]),a=t.rotor(a,n[2]+8,r[2]-o[2]),t.simplesub(a,i)},t.incrementSettings=function(e,t){var r=e,n=[[16,16],[4,4],[21,21],[9,9],[25,25],[25,12],[25,12],[25,12]];return r[1]!==n[t[1]][0]&&r[1]!==n[t[1]][1]||(r[0]=(r[0]+1)%26,r[1]=(r[1]+1)%26),r[2]!==n[t[2]][0]&&r[2]!==n[t[2]][1]||(r[1]=(r[1]+1)%26),r[2]=(r[2]+1)%26,r},t.simplesub=function(e,r){return r.charAt(t.code(e))},t.rotor=function(e,r,n){var o=(t.code(e)+26+n)%26,i=(t.code(["EKMFLGDQVZNTOWYHXUSPAIBRCJ","AJDKSIRUXBLHWTMCQGZNPYFVOE","BDFHJLCPRTXVZNYEIWGAKMUSQO","ESOVPZJAYQUIRHXLNFTGKDCMWB","VZBRGITYUPSDNHLXAWMJQOFECK","JPGVOUMFYQBENHZRDKASXLICTW","NZJHGRCXMYSWBOUFAIVLPEKQDT","FKQHTLXOCBJSPDZRAMEWNIUYGV","UWYGADFPVZBECKMTHXSLRINQOJ","AJPCZWRLFBDKOTYUQGENHXMIVS","TAGBPCSDQEUFVNZHYIXJWLRKOM","HZWVARTNLGUPXQCEJMBSKDYOIF","QCYLXWENFTZOSMVJUDKGIARPHB","SKXQLHCNWARVGMEBJPTYFDZUIO","QMGYVPEDRCWTIANUXFKZOSLHJB","QJINSAYDVKBFRUHMCPLEWZTGXO"][r].charAt(o))+26-n)%26+65;return String.fromCharCode(i)},t.code=function(e){return e.toUpperCase().charCodeAt(0)-65},t.message=e.toUpperCase(),t.keySettings=r,t.ringSettings=i,t.plugboardSettings=a,t.rotorSettings=u,t}return o}(n);function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t){return dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dt(e,t)}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=gt(n);if(o){var a=gt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==yt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"vigenere",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f+l)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f-l+26)%26+65),a+=1}else i+=c}return i},t}return t=a,(r=[{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&ht(t.prototype,r),a}(n);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wt(e,t){return wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wt(e,t)}function St(e){return St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},St(e)}var Ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=St(n);if(o){var a=St(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==bt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"beaufort",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Beaufort cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((l-f+26)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.encode(e,r)},t}return t=a,(r=[{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&mt(t.prototype,r),a}(n);function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Et(e,t){return Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Et(e,t)}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}var Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=jt(n);if(o){var a=jt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==At(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"porta",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Porta cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=o[a%o.length],l=t.getPairIndex(f),s=t.alphabetPairs[l],p=c.charCodeAt(0)-65;i+=s[0][p],a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Porta cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=o[a%o.length],l=t.getPairIndex(f),s=t.alphabetPairs[l][0].indexOf(c);i+=-1!==s?String.fromCharCode(s+65):c,a+=1}else i+=c}return i},t.alphabetPairs=t.generateAlphabetPairs(),t}return t=a,(r=[{key:"generateAlphabetPairs",value:function(){for(var e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<13;r++){for(var n=[],o="",i=0;i<13;i++)o+=t[(i+r)%13];for(var a=0;a<13;a++)o+=t[25-(a+r)%13];for(var u="",c=0;c<26;c++){var f=t[c];u+=t[o.indexOf(f)]}n.push(o),n.push(u),e.push(n)}return e}},{key:"getPairIndex",value:function(e){return(e.toUpperCase().charCodeAt(0)-65)%13}}])&&Ct(t.prototype,r),a}(n);function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kt(e,t){return kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kt(e,t)}function It(e){return It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},It(e)}var Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=It(n);if(o){var a=It(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Pt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12345",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"gronsfeld",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Gronsfeld cipher requires a non-empty numeric keyword");var n=e.toUpperCase(),o=r.replace(/[^0-9]/g,"");if(0===o.length)throw new Error("Gronsfeld cipher requires a numeric keyword (digits 0-9)");for(var i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f+l)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Gronsfeld cipher requires a non-empty numeric keyword");var n=e.toUpperCase(),o=r.replace(/[^0-9]/g,"");if(0===o.length)throw new Error("Gronsfeld cipher requires a numeric keyword (digits 0-9)");for(var i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f-l+26)%26+65),a+=1}else i+=c}return i},t}return t=a,(r=[{key:"getShift",value:function(e){var t=parseInt(e,10);return isNaN(t)?0:t}}])&&_t(t.prototype,r),a}(n);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qt(e,t){return qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qt(e,t)}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=xt(n);if(o){var a=xt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Dt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire1",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=t.generateCipherAlphabet(r),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];/[A-Z]/.test(f)?(a+=i[(f.charCodeAt(0)-65+t.getShift(o[u%o.length]))%26],u+=1):a+=f}return a},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=t.generateCipherAlphabet(r),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=t.getShift(o[u%o.length]),s=i.indexOf(f);if(-1!==s){var p=(s-l+26)%26;a+=String.fromCharCode(p+65)}else a+=f;u+=1}else a+=f}return a},t.cipherAlphabet=n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t}return t=a,(r=[{key:"generateCipherAlphabet",value:function(e){if(this.cipherAlphabet&&26===this.cipherAlphabet.length)return this.cipherAlphabet.toUpperCase();var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(o+=a,n.add(a))}}catch(e){i.e(e)}finally{i.f()}for(var u=65;u<=90;u++){var c=String.fromCharCode(u);n.has(c)||(o+=c)}return o}},{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&Ut(t.prototype,r),a}(n);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lt(e,t){return Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lt(e,t)}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Gt(n);if(o){var a=Gt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Zt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire2",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(t.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=i[u%i.length];a+=t.generateCipherAlphabet(l)[(f.charCodeAt(0)-65+t.getShift(o[u%o.length]))%26],u+=1}else a+=f}return a},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(d.validateMessage(e),d.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(t.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=i[u%i.length],s=t.generateCipherAlphabet(l),p=t.getShift(o[u%o.length]),y=s.indexOf(f);if(-1!==y){var h=(y-p+26)%26;a+=String.fromCharCode(h+65)}else a+=f;u+=1}else a+=f}return a},t.indicator=n||"A",t}return t=a,r=[{key:"generateCipherAlphabet",value:function(e){for(var t=e.toUpperCase().charCodeAt(0)-65,r="",n=0;n<26;n++){var o=(n+t)%26;r+=String.fromCharCode(o+65)}return r}},{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}],r&&Nt(t.prototype,r),a}(n);function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qt(e,t){return Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qt(e,t)}function Vt(e){return Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vt(e)}function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zt(e,t){return zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zt(e,t)}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}const er={Vigenere:vt,Beaufort:Ot,Porta:Rt,Gronsfeld:Tt,Quagmire1:Mt,Quagmire2:Ft,Quagmire3:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Vt(n);if(o){var a=Vt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Ht(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire3",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;if(d.validateMessage(e),d.validateKey(t.key,"string"),d.validateKey(r,"string"),!t.key||0===t.key.length)throw new Error("Quagmire III cipher requires a non-empty keyword");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f+s)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;d.validateMessage(e),d.validateKey(t.key,"string"),d.validateKey(r,"string");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f-s+26)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.indicator=n||"KEY",t.keyedAlphabet=t.buildKeyedAlphabet(r),t}return t=a,(r=[{key:"buildKeyedAlphabet",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(n.add(a),o+=a)}}catch(e){i.e(e)}finally{i.f()}for(var u=0;u<26;u++){var c=String.fromCharCode(65+u);n.has(c)||(n.add(c),o+=c)}return o}},{key:"indexInKeyed",value:function(e){return this.keyedAlphabet.indexOf(e.toUpperCase())}}])&&Yt(t.prototype,r),a}(n),Quagmire4:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=$t(n);if(o){var a=$t(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Jt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ABC",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,u,"quagmire4",r,"",c)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;if(d.validateMessage(e),d.validateKey(t.key,"string"),d.validateKey(r,"string"),!t.key||0===t.key.length)throw new Error("Quagmire IV cipher requires a non-empty keyword");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f+s)%26;i+=t.cipherKeyedAlphabet[p],a++}}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;d.validateMessage(e),d.validateKey(t.key,"string"),d.validateKey(r,"string");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInCipherKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f-s+26)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.indicator=n||"ABC",t.cipherAlphabet=o||"",t.keyedAlphabet=t.buildKeyedAlphabet(r),t.cipherKeyedAlphabet=t.buildCipherKeyedAlphabet(r),t}return t=a,(r=[{key:"buildKeyedAlphabet",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(n.add(a),o+=a)}}catch(e){i.e(e)}finally{i.f()}for(var u=0;u<26;u++){var c=String.fromCharCode(65+u);n.has(c)||(n.add(c),o+=c)}return o}},{key:"buildCipherKeyedAlphabet",value:function(e){return this.cipherAlphabet&&26===this.cipherAlphabet.length?this.cipherAlphabet.toUpperCase():this.buildKeyedAlphabet(e)}},{key:"indexInKeyed",value:function(e){return this.keyedAlphabet.indexOf(e.toUpperCase())}},{key:"indexInCipherKeyed",value:function(e){return this.cipherKeyedAlphabet.indexOf(e.toUpperCase())}}])&&Wt(t.prototype,r),a}(n)};var tr=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getTestMessage=function(e){return t.testMessages[e]},this.getChar=function(e){return t.alphabet[e]},this.setChar=function(e,r){return t.alphabet[e]=r,t.processMessage()},this.resetAlphabet=function(){return Object.keys(t.alphabet).map(function(e,r){return t.alphabet[e]=e}),t.processMessage()},this.swapChar=function(e,r){var n=t.alphabet[e];return t.alphabet[e]=t.alphabet[r],t.alphabet[r]=n,t.processMessage()},this.setByFrequency=function(){var e=t.sortProperties(t.freqAnalysis(t.message)),r=t.sortProperties(t.getSLFreq()),n=0;do{t.setChar(String(r[n][0]).toLowerCase(),String(e[n][0]).toLowerCase()),n+=1}while(n<e.length-1);return t.processMessage()},this.processMessage=function(){var e="";return t.message.split("").forEach(function(r){var n=t.alphabet[r];e+=""!==n?n:"?"}),e},this.getSLFreq=function(){return c},this.getS2Freq=function(){return f},this.getS3Freq=function(){return l},this.getS4Freq=function(){return s},this.freqAnalysis=function(){var e={},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("");t.forEach(function(t){t in e?e[t]+=1:e[t]=1});var r=t.length;return Object.keys(e).forEach(function(t){var n=e[t];e[t]=parseFloat((n/r*100).toFixed(3))}),e},this.sortProperties=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",r=[];return e.forEach(function(t){r.push([t,e[t]])}),"asc"===t?r.sort(function(e,t){return e[1]-t[1]}):r.sort(function(e,t){return t[1]-e[1]}),r},this.testMessages=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","Las dos jornadas tuvieron un denominador común: insistir, y mucho, en educar en temas financieros, a los efectos de que la gente tenga claro cuáles son las ventajas y riesgos a los que se enfrenta.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus suscipit velit vitae vulputate. Vivamus vel tempus lacus. Fusce dictum, leo id porttitor dapibus, leo diam rutrum nulla, ut feugiat","La posición de Washington hacia las elecciones en Palestina ha sido coherente. Las elecciones fueron postergadas hasta la muerte de Yasser Arafat, que fue recibida como una oportunidad para la realización  "],this.message=r,this.alphabet={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"}};return t})());