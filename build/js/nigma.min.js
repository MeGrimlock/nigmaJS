!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.nigmajs=t():e.nigmajs=t()}(this,()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.r(t),e.d(t,{BasicCipher:()=>n,Columnar:()=>j,Dictionary:()=>Ne,Enigma:()=>lt,LanguageAnalysis:()=>l,Polyalphabetic:()=>zt,Shift:()=>at,default:()=>$t});var n=function(){function e(t,r,n,o,i,a){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getMsg=function(){return u.message},this.getEncoded=function(){return u.encoded},this.getMethod=function(){return u.method},this.getKey=function(){return u.key},this.getAlphabet=function(){return u.alphabet},this.shiftCharacters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(t)>26&&(t%=26),t<0&&(t+=26);for(var r="",n=0;n<e.length;n+=1){var o=e[n];if(o.match(/[a-z]/i)){var i=e.charCodeAt(n);i>=65&&i<=90?o=String.fromCharCode((i-65+t)%26+65):i>=97&&i<=122&&(o=String.fromCharCode((i-97+t)%26+97))}r+=o}return r},this.text2block=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e,n=(r=r.replace(/ /g,""))[0],o=1;do{o%t===0&&(n+=" "),n+=r[o],o+=1}while(o<r.length);return n},this.encodeAlphabet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return e.toLowerCase().split(" ").map(function(e){e.split("").map(function(e){var r=u.getKeyByValue(u.alphabet,e);void 0!==r&&(n+=r+t)}),t.length>0&&(n=n.slice(0,-t.length)),n+=r}),r.length>0&&(n=n.slice(0,-r.length)),n},this.decodeAlphabet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return e.split(r).map(function(e){e.split(t).map(function(e){var t=u.alphabet[e];void 0!==t&&(n+=t)}),n+=" "}),n=n.slice(0,-1)},this.validateEncoded=function(){return!0===u.encoded&&null!=u.message&&""!==u.message},this.transposeMatrix=function(e){return e[0].map(function(t,r){return e.map(function(e){return e[r]})})},this.getKeyByValue=function(e,t){return Object.keys(e).find(function(r){return e[r]===t})},this.logMessage=function(e){u.debug&&console.log(e)},this.test=function(){return"NigmaJS enabled"},this.message=t,this.encoded=r,this.method=n,this.key=null!=o?o:"",this.alphabet=i,this.debug=a}var t,n;return t=e,(n=[{key:"setMsg",value:function(e){return this.message=e,this}},{key:"setEncoded",value:function(e){return this.encoded=e,this}},{key:"setMethod",value:function(e){return this.method=e,this}},{key:"setKey",value:function(e){return this.key=e,this}},{key:"setAlphabet",value:function(e){return this.alphabet=e,this}},{key:"sortColumns",value:function(e,t){return e[0]===t[0]?0:e[0]<t[0]?-1:1}}])&&r(t.prototype,n),e}();function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a={A:12.5,B:1.27,C:4.43,D:5.14,E:13.24,F:.79,G:1.17,H:.81,I:6.91,J:.45,K:.08,L:5.84,M:2.61,N:7.09,Ñ:.22,O:8.98,P:2.75,Q:.83,R:6.62,S:7.44,T:4.42,U:4,V:.98,W:.03,X:.19,Y:.79,Z:.42},u={DE:2.57,AD:1.43,TA:1.09,ES:2.31,AR:1.43,TE:1,EN:2.27,RE:1.42,OR:.98,EL:2.01,AL:1.33,DO:.98,LA:1.8,AN:1.24,IO:.98,OS:1.79,NT:1.22,AC:.96,ON:1.61,UE:1.21,ST:.95,AS:1.56,CI:1.15,NA:.92,ER:1.52,CO:1.13,RO:.85,RA:1.47,SE:1.11,UN:.84},c={DEL:.75,EST:.48,PAR:.32,QUE:.74,LOS:.47,DES:.31,ENT:.67,ODE:.47,ESE:.3,ION:.56,ADO:.45,IEN:.3,ELA:.55,RES:.4,ALA:.29,CON:.54,STA:.38,POR:.29,SDE:.52,ACI:.36,ONE:.29,ADE:.51,LAS:.35,NDE:.29,CIO:.5,ARA:.34,TRA:.28,NTE:.49,ENE:.32,NES:.27},f={CION:.42,MENT:.16,NCIA:.14,DELA:.33,IONE:.16,AQUE:.14,ACIO:.27,ODEL:.16,SQUE:.14,ENTE:.25,ONDE:.16,ENCI:.13,ESTA:.22,OQUE:.15,ENLA:.13,ESDE:.22,IDAD:.15,ENTR:.13,PARA:.19,ELOS:.15,IENT:.12,ONES:.17,ADEL:.15,ASDE:.12,SDEL:.17,ANTE:.15,ENEL:.12,OSDE:.17,ENTO:.14,DELO:.12},l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"getLetterFrequencies",value:function(e){var t=e.toUpperCase().replace(/[^A-ZÑ]/g,""),r=t.length,n={};if(0===r)return{};var i,a=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(a.s();!(i=a.n()).done;){var u=i.value;n[u]=(n[u]||0)+1}}catch(e){a.e(e)}finally{a.f()}var c={};for(var f in n)c[f]=n[f]/r*100;return c}},{key:"getNgramFrequencies",value:function(e,t){var r=e.toUpperCase().replace(/[^A-ZÑ]/g,""),n={},o=0;if(r.length<t)return{};for(var i=0;i<=r.length-t;i++){var a=r.substring(i,i+t);n[a]=(n[a]||0)+1,o++}var u={};for(var c in n)u[c]=n[c]/o*100;return u}},{key:"calculateChiSquared",value:function(e,t){var r=0;for(var n in t){var o=e[n]||0,i=t[n];r+=Math.pow(o-i,2)/i}return r}},{key:"analyzeSpanishCorrelation",value:function(e){var t=this.getLetterFrequencies(e),r=this.getNgramFrequencies(e,2),n=this.getNgramFrequencies(e,3),o=this.getNgramFrequencies(e,4);return{monograms:{score:this.calculateChiSquared(t,a),frequencies:t},bigrams:{score:this.calculateChiSquared(r,u),frequencies:r},trigrams:{score:this.calculateChiSquared(n,c),frequencies:n},quadgrams:{score:this.calculateChiSquared(o,f),frequencies:o}}}}],null&&i(t.prototype,null),r&&i(t,r),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}l.spanishLetterFrequencies=a,l.spanishBigramFrequencies=u,l.spanishTrigramFrequencies=c,l.spanishQuadgramFrequencies=f;var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"validateMessage",value:function(e){if(null==e)throw new TypeError("Message cannot be null or undefined");if("string"!=typeof e)throw new TypeError("Message must be a string, got ".concat(s(e)));if(""===e.trim())throw new Error("Message cannot be empty");return!0}},{key:"validateKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if(null==e)throw new TypeError("Key cannot be null or undefined");if("number"===t&&"number"!=typeof e)throw new TypeError("Key must be a number, got ".concat(s(e)));if("string"===t&&"string"!=typeof e)throw new TypeError("Key must be a string, got ".concat(s(e)));if("number"===t&&isNaN(e))throw new TypeError("Key must be a valid number, got NaN");return!0}},{key:"validateAlphabet",value:function(e){if(null==e)throw new TypeError("Alphabet cannot be null or undefined");if("object"!==s(e))throw new TypeError("Alphabet must be an object, got ".concat(s(e)));if(Array.isArray(e))throw new TypeError("Alphabet must be an object, not an array");return!0}},{key:"validateBoolean",value:function(e){if("boolean"!=typeof e)throw new TypeError("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value"," must be a boolean, got ").concat(s(e)));return!0}}],null&&p(t.prototype,null),r&&p(t,r),e}();function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}const j={Amsco:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=v(t);if(r){var a=v(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==d(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,i,"amsco",t,"",a)).decodingConstructor=function(e,t){var n=t.split("").map(function(e){return e-1}),o=[];n.map(function(e){o.push([e])});var i=r.generateDecodingMatrix(e.length,n,1,2);return[o,i,n]},r.validateKey=function(){var e=!0,t=r.key.split("").sort(),n=/^\d+$/;if(r.logMessage("Check for [0-9] chars only: ".concat(n.test(r.key)," key analyzed : ").concat(r.key)),n.test(r.key)){r.logMessage("Numbers only Key: ".concat(t," "));var o=0;do{var i=t[o];r.logMessage("Validating ... Char ".concat(i," of type ").concat(d(i)," at ").concat(o)),i===(1+o).toString()?o+=1:(e=!1,r.logMessage("Sequence not validated"))}while(!0===e&&o<t.length)}else r.logMessage("Invalid key, Non numbers detected"),e=!1;return e},r.generateDecodingMatrix=function(e,t,r,n){var o=[],i=r||1,a=n||2;t.map(function(e){o.push([])});var u=0;do{o.forEach(function(t){u<e?e-u>i?t.push(i):t.push(e-u):t.push(0),u+=i,i=i===r?a:r}),i=i===r?a:r}while(u<e);return o},r.processMatrixDecoding=function(e,t,n){var o=0,i=1,a=0,u=e,c=t,f=n;do{var l=0,s=f.indexOf(a);do{i=o+c[s][l];var p=r.message.slice(o,i);u[s].push(p),o=i,l+=1}while(l<c[s].length);a+=1}while(a<c.length);return u},r.decode=function(){y.validateMessage(r.message);var e=[];if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");var t=r.decodingConstructor(r.message,r.key);return e=r.processMatrixDecoding(t[0],t[1],t[2]),(e=r.transposeMatrix(e)).shift(),e=(e=e.map(function(e){return e.join("")})).join(""),r.logMessage("Done decoding: ".concat(e)),e},r.encode=function(){y.validateMessage(r.message);var e="",t=[],n=[],o="";if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");e=r.message.replace(/\s+/g,"").toLocaleUpperCase();var i,a,u=r.decodingConstructor(r.message,r.key),c=(a=1,function(e){if(Array.isArray(e))return e}(i=u)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(i,a)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());t=c[0],n=r.transposeMatrix(u[1]);var f=0,l=0;return n.forEach(function(r){r.forEach(function(n){t[l].push(e.slice(f,f+n)),f+=n,l<r.length-1?l+=1:l=0})}),t.sort(r.sortFunction),t.forEach(function(e){e.shift(),o+=e.join("")}),o},r}return o}(n),RailFence:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=w(t);if(r){var a=w(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==b(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,i,"railFence",r,"",a)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rails;if(y.validateMessage(e),y.validateKey(r,"number"),r<2)throw new Error("Rail Fence cipher requires at least 2 rails");var n=e.toUpperCase().replace(/[^A-Z]/g,"");if(0===n.length)return"";for(var o=[],i=0;i<r;i++)o[i]=[];for(var a=0,u=1,c=0;c<n.length;c++)o[a].push(n[c]),0===a?u=1:a===r-1&&(u=-1),a+=u;for(var f="",l=0;l<r;l++)f+=o[l].join("");return f},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rails;if(y.validateMessage(e),y.validateKey(r,"number"),r<2)throw new Error("Rail Fence cipher requires at least 2 rails");var n=e.toUpperCase().replace(/[^A-Z]/g,"");if(0===n.length)return"";for(var o=[],i=0;i<r;i++)o[i]=[];for(var a=[],u=0,c=1,f=0;f<n.length;f++)a.push({index:f,row:u}),0===u?c=1:u===r-1&&(c=-1),u+=c;var l=new Array(r).fill(0);a.forEach(function(e){l[e.row]++});for(var s=0,p=0;p<r;p++)for(var h=0;h<l[p];h++)s<n.length&&(o[p].push(n[s]),s++);var d=new Array(r).fill(0),g="";u=0,c=1;for(var v=0;v<n.length;v++)g+=o[u][d[u]],d[u]++,0===u?c=1:u===r-1&&(c=-1),u+=c;return g},t.rails=r||3,t}return o}(n),Route:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=C(n);if(o){var a=C(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==S(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"spiral",u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,u,"route",r,"",c)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rows,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.cols,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.route;if(y.validateMessage(e),y.validateKey(r,"number"),y.validateKey(n,"number"),r<2||n<2)throw new Error("Route cipher requires at least 2 rows and 2 columns");t.rows=r,t.cols=n,t.route=o||"spiral";var i=t.createGrid(e);return t.readGrid(i)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.rows,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.cols,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.route;if(y.validateMessage(e),y.validateKey(r,"number"),y.validateKey(n,"number"),r<2||n<2)throw new Error("Route cipher requires at least 2 rows and 2 columns");t.rows=r,t.cols=n,t.route=o||"spiral";for(var i=e.toUpperCase().replace(/[^A-Z]/g,""),a=t.writeGrid(i),u="",c=0;c<t.rows;c++)for(var f=0;f<t.cols;f++)u+=a[c][f];return u.replace(/X+$/,"")},t.rows=r||5,t.cols=n||5,t.route=o||"spiral",t}return t=a,(r=[{key:"createGrid",value:function(e){for(var t=e.toUpperCase().replace(/[^A-Z]/g,""),r=[],n=0;n<this.rows;n++){r[n]=[];for(var o=0;o<this.cols;o++){var i=n*this.cols+o;r[n][o]=i<t.length?t[i]:"X"}}return r}},{key:"readSpiral",value:function(e){for(var t="",r=0,n=this.rows-1,o=0,i=this.cols-1;r<=n&&o<=i;){for(var a=o;a<=i;a++)t+=e[r][a];for(var u=++r;u<=n;u++)t+=e[u][i];if(i--,r<=n){for(var c=i;c>=o;c--)t+=e[n][c];n--}if(o<=i){for(var f=n;f>=r;f--)t+=e[f][o];o++}}return t}},{key:"writeSpiral",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0,i=this.rows-1,a=0,u=this.cols-1;o<=i&&a<=u&&n<e.length;){for(var c=a;c<=u&&n<e.length;c++)t[o][c]=e[n++];for(var f=++o;f<=i&&n<e.length;f++)t[f][u]=e[n++];if(u--,o<=i){for(var l=u;l>=a&&n<e.length;l--)t[i][l]=e[n++];i--}if(a<=u){for(var s=i;s>=o&&n<e.length;s--)t[s][a]=e[n++];a++}}return t}},{key:"readZigzag",value:function(e){for(var t="",r=0;r<this.rows;r++)if(r%2==0)for(var n=0;n<this.cols;n++)t+=e[r][n];else for(var o=this.cols-1;o>=0;o--)t+=e[r][o];return t}},{key:"writeZigzag",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0;o<this.rows&&n<e.length;o++)if(o%2==0)for(var i=0;i<this.cols&&n<e.length;i++)t[o][i]=e[n++];else for(var a=this.cols-1;a>=0&&n<e.length;a--)t[o][a]=e[n++];return t}},{key:"readColumn",value:function(e){for(var t="",r=0;r<this.cols;r++)for(var n=0;n<this.rows;n++)t+=e[n][r];return t}},{key:"writeColumn",value:function(e){for(var t=[],r=0;r<this.rows;r++)t[r]=new Array(this.cols).fill("X");for(var n=0,o=0;o<this.cols&&n<e.length;o++)for(var i=0;i<this.rows&&n<e.length;i++)t[i][o]=e[n++];return t}},{key:"readGrid",value:function(e){switch(this.route.toLowerCase()){case"spiral":default:return this.readSpiral(e);case"zigzag":return this.readZigzag(e);case"column":return this.readColumn(e)}}},{key:"writeGrid",value:function(e){switch(this.route.toLowerCase()){case"spiral":default:return this.writeSpiral(e);case"zigzag":return this.writeZigzag(e);case"column":return this.writeColumn(e)}}}])&&O(t.prototype,r),a}(n)};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=R(t);if(r){var a=R(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==E(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"atbash","",{4:"a",3:"b",2:"c",1:"d",0:"e",z:"f",y:"g",x:"h",w:"i",v:"j",u:"k",t:"l",s:"m",r:"n",q:"o",p:"p",o:"q",n:"r",m:"s",l:"t",k:"u",j:"v",i:"w",h:"x",g:"y",f:"z",e:"0",d:"1",c:"2",b:"3",a:"4","!":"5","?":"6",",":"7",".":"8"," ":"9",9:" ",8:".",7:",",6:"?",5:"!"},i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep=" ",t.characterSep="",t}return o}(n);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=K(t);if(r){var a=K(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==k(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t,r,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(a=n.call(this,e,r,"autoKey",t,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=e.toLowerCase().replace(/[^a-z]/g,""),n=t.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>=1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97+(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97+(r.charCodeAt(i-n.length)-97)+26)%26+97);return o},a.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=e.toLowerCase().replace(/[^a-z]/g,""),n=t.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97-(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97-(o.charCodeAt(i-n.length)-97)+26)%26+97);return o},a}return o}(n);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=D(t);if(r){var a=D(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==T(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"baconian","",{aaaaa:"a",aaaab:"b",aaaba:"c",aaabb:"d",aabaa:"e",aabab:"f",aabba:"g",aabbb:"h",abaaa:"i",abaab:"j",ababa:"k",ababb:"l",abbaa:"m",abbab:"n",abbba:"o",abbbb:"p",baaaa:"q",baaab:"r",baaba:"s",baabb:"t",babaa:"u",babab:"v",babba:"w",babbb:"x",bbaaa:"y",bbaab:"z"},i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep="   ",t.characterSep=" ",t}return o}(n);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=G(t);if(r){var a=G(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==M(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var f={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"};return(r=n.call(this,e,u,"simpleSubstitution",t,f,c)).getI=function(){return r.i},r.getV=function(){return r.v},r.validateKey=function(e){var t=e.replace(/\s/g,"");return t.toLowerCase()},r.validateRemovedChars=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.v;return!0===t&&106===e||!0===n&&118===e},r.putLetter2Alphabet=function(e,t,n,o){var i=n,a=o;return t.includes(e)||r.validateRemovedChars(e.charCodeAt(0))||(r.validateRemovedChars(a,r.i,r.v)&&(delete i[String.fromCharCode(a)],a+=1),i[String.fromCharCode(a)]=e,t.push(e),a+=1),[e,t,i,a]},r.alphabetConstructor=function(e,t){var n=[],o=97;t.split("").forEach(function(t){var i=Z(r.putLetter2Alphabet(t,n,e,o),4);t=i[0],n=i[1],e=i[2],o=i[3]});var i=97,a="";do{a=String.fromCharCode(i);var u=Z(r.putLetter2Alphabet(a,n,e,o),4);a=u[0],n=u[1],e=u[2],o=u[3],i+=1}while(o<123);return e},r.encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return y.validateMessage(e),r.encodeAlphabet(e,r.characterSep,r.wordSep)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return y.validateMessage(e),r.decodeAlphabet(e,r.characterSep,r.wordSep)},r.i=i,r.v=a,r.key=r.validateKey(t),r.setAlphabet(r.alphabetConstructor(f,r.key)),r.wordSep=" ",r.characterSep="",r}return o}(n);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function J(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t){return oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oe(e,t)}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ue(e,t){return ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ue(e,t)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function he(e,t){return he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},he(e,t)}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function ve(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t){return Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pe(e,t)}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function ke(e,t){if(e){if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ie(e,t):void 0}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ue(e,t){return Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ue(e,t)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function De(e,t){if(e){if("string"==typeof e)return xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ze(e,t){return Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ze(e,t)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}const Ne={Atbash:_,Autokey:U,Baconian:x,Bazeries:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Y(t);if(r){var a=Y(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==X(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,t,!0,!1,i,"",{},a)).transpositionAlphabet=function(e,t){var n=r.alphabet,o=[],i=[];Object.keys(n).forEach(function(e){e.charCodeAt(0)>=97&&e.charCodeAt(0)<=123&&i.push(n[e]),i.length===t&&(o.push(i),i=[])}),o=(o=r.transposeMatrix(o)).join();var a=97;o.split(",").forEach(function(e){n[String.fromCharCode(a)]=e,a+=1}),r.setAlphabet(n)},r.encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.encodeAlphabet(e,r.characterSep,r.wordSep)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.decodeAlphabet(e,r.characterSep,r.wordSep)},r.method="bazeries",r.wordSep=" ",r.characterSep="",r.transpositionAlphabet(5,5),r}return o}(F),Bifid:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=z(n);if(o){var a=z(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==V(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"bifid",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;y.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n=e.toUpperCase().replace(/[^A-Z]/g,"").replace(/J/g,"I");if(0===n.length)return"";var o,i=[],a=[],u=J(n);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=t.findPosition(c);f&&(i.push(f.row),a.push(f.col))}}catch(e){u.e(e)}finally{u.f()}for(var l=i.concat(a),s="",p=0;p<l.length-1;p+=2){var h=l[p],d=l[p+1];s+=t.getLetter(h,d)}return s},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;y.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n=e.toUpperCase().replace(/[^A-Z]/g,"").replace(/J/g,"I");if(0===n.length)return"";var o,i=[],a=J(n);try{for(a.s();!(o=a.n()).done;){var u=o.value,c=t.findPosition(u);c&&(i.push(c.row),i.push(c.col))}}catch(e){a.e(e)}finally{a.f()}for(var f=Math.ceil(i.length/2),l=i.slice(0,f),s=i.slice(f),p="",h=0;h<l.length;h++){var d=l[h],g=void 0!==s[h]?s[h]:0;p+=t.getLetter(d,g)}return p},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").split("").filter(function(e,t,r){return/[A-Z]/.test(e)&&r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getLetter",value:function(e,t){return e>=0&&e<5&&t>=0&&t<5?this.grid[e][t]:""}}],r&&W(t.prototype,r),a}(n),FourSquare:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ie(n);if(o){var a=ie(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==$(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EXAMPLE",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEYWORD",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"fourSquare",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keyword1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.keyword2;y.validateMessage(e),y.validateKey(r,"string"),y.validateKey(n,"string");var o=r?r.toUpperCase().replace(/[^A-Z]/g,""):"",i=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length||!i||0===i.length)throw new Error("Four-Square cipher requires two non-empty keywords");r===t.keyword1&&n===t.keyword2||(t.squares=t.generateSquares(r,n),t.keyword1=r,t.keyword2=n);var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=te(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(c.s();!(a=c.n()).done;){var f=ee(a.value,2),l=f[0],s=f[1];u+=t.encodeDigraph(l,s)}}catch(e){c.e(e)}finally{c.f()}return u},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keyword1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.keyword2;y.validateMessage(e),y.validateKey(r,"string"),y.validateKey(n,"string");var o=r?r.toUpperCase().replace(/[^A-Z]/g,""):"",i=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length||!i||0===i.length)throw new Error("Four-Square cipher requires two non-empty keywords");r===t.keyword1&&n===t.keyword2||(t.squares=t.generateSquares(r,n),t.keyword1=r,t.keyword2=n);for(var a=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),u=[],c=0;c<a.length;c+=2)c+1<a.length&&u.push([a[c],a[c+1]]);for(var f="",l=0,s=u;l<s.length;l++){var p=ee(s[l],2),h=p[0],d=p[1];f+=t.decodeDigraph(h,d)}return f},t.keyword1=r,t.keyword2=n,t.squares=t.generateSquares(r,n),t}return t=a,(r=[{key:"generateSquares",value:function(e,t){return{square1:this.generateStandardSquare(),square2:this.generateKeyedSquare(e),square3:this.generateKeyedSquare(t),square4:this.generateStandardSquare()}}},{key:"generateStandardSquare",value:function(){for(var e=[],t=0;t<5;t++){e[t]=[];for(var r=0;r<5;r++)e[t][r]="ABCDEFGHIKLMNOPQRSTUVWXYZ"[5*t+r]}return e}},{key:"generateKeyedSquare",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),r=new Set(t.split("")),n=t+"ABCDEFGHIKLMNOPQRSTUVWXYZ".split("").filter(function(e){return!r.has(e)}).join(""),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e,t){for(var r=t.toUpperCase().replace(/J/g,"I"),n=0;n<5;n++)for(var o=0;o<5;o++)if(e[n][o]===r)return{row:n,col:o};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square1,e),n=this.findPosition(this.squares.square4,t);return r&&n?this.squares.square2[r.row][n.col]+this.squares.square3[n.row][r.col]:e+t}},{key:"decodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square2,e),n=this.findPosition(this.squares.square3,t);return r&&n?this.squares.square1[r.row][n.col]+this.squares.square4[n.row][r.col]:e+t}}])&&ne(t.prototype,r),a}(n),Morse:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=ce(t);if(r){var a=ce(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==ae(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"morse","",{"-----":"0",".----":"1","..---":"2","...--":"3","....-":"4",".....":"5","-....":"6","--...":"7","---..":"8","----.":"9",".-":"a","-...":"b","-.-.":"c","-..":"d",".":"e","..-.":"f","--.":"g","....":"h","..":"i",".---":"j","-.-":"k",".-..":"l","--":"m","-.":"n","---":"o",".--.":"p","--.-":"q",".-.":"r","...":"s","-":"t","..-":"u","...-":"v",".--":"w","-..-":"x","-.--":"y","--..":"z","/":" ","-·-·--":"!","·-·-·-":".","--··--":","})).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return y.validateMessage(e),t.encodeAlphabet(e,t.characterSep,t.wordSep)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message;return y.validateMessage(e),t.decodeAlphabet(e,t.characterSep,t.wordSep)},t.wordSep="   ",t.characterSep=" ",t}return o}(n),Playfair:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=de(n);if(o){var a=de(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==fe(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"playfair",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Playfair cipher requires a non-empty keyword");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=se(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(i.s();!(n=i.n()).done;){var a=le(n.value,2),u=a[0],c=a[1];o+=t.encodeDigraph(u,c,1)}}catch(e){i.e(e)}finally{i.f()}return o},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Playfair cipher requires a non-empty keyword");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);for(var n=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),o=[],i=0;i<n.length;i+=2)i+1<n.length&&o.push([n[i],n[i+1]]);for(var a="",u=0,c=o;u<c.length;u++){var f=le(c[u],2),l=f[0],s=f[1];a+=t.encodeDigraph(l,s,-1)}return a},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYWORD").toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),t="ABCDEFGHIKLMNOPQRSTUVWXYZ",r=new Set(e.split("")),n=e+(t=t.split("").filter(function(e){return!r.has(e)}).join("")),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X"===o?"Q":"X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.findPosition(e),a=this.findPosition(t);return i&&a?(i.row===a.row?(r={row:i.row,col:(i.col+o+5)%5},n={row:a.row,col:(a.col+o+5)%5}):i.col===a.col?(r={row:(i.row+o+5)%5,col:i.col},n={row:(a.row+o+5)%5,col:a.col}):(r={row:i.row,col:a.col},n={row:a.row,col:i.col}),this.grid[r.row][r.col]+this.grid[n.row][n.col]):e+t}}],r&&ye(t.prototype,r),a}(n),Polybius:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Se(n);if(o){var a=Se(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==ge(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"polybius",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;y.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=ve(e.toUpperCase().replace(/[^A-Z]/g,""));try{for(i.s();!(n=i.n()).done;){var a=n.value,u=t.findPosition(a);u&&(o+="".concat(u.row).concat(u.col," "))}}catch(e){i.e(e)}finally{i.f()}return o.trim()},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;y.validateMessage(e),r!==t.key&&(t.grid=t.generateGrid(r),t.key=r);var n,o="",i=ve(e.match(/\d{2}/g)||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value,u=parseInt(a[0])-1,c=parseInt(a[1])-1;u>=0&&u<5&&c>=0&&c<5&&(o+=t.grid[u][c])}}catch(e){i.e(e)}finally{i.f()}return o},t.grid=t.generateGrid(r),t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").split("").filter(function(e,t,r){return/[A-Z]/.test(e)&&r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r+1,col:n+1};return null}}],r&&me(t.prototype,r),a}(n),SimpleSubstitution:F,TwoSquare:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Re(n);if(o){var a=Re(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Oe(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"twoSquare",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;y.validateMessage(e),y.validateKey(r,"string");var n=r?r.toUpperCase().replace(/[^A-Z]/g,""):"";if(!n||0===n.length)throw new Error("Two-Square cipher requires a non-empty keyword");r!==t.key&&(t.squares=t.generateSquares(r),t.key=r);var o,i="",a=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=Ce(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(t.prepareMessage(e));try{for(a.s();!(o=a.n()).done;){var u=Ae(o.value,2),c=u[0],f=u[1];i+=t.encodeDigraph(c,f)}}catch(e){a.e(e)}finally{a.f()}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;y.validateMessage(e),y.validateKey(r,"string");var n=r?r.toUpperCase().replace(/[^A-Z]/g,""):"";if(!n||0===n.length)throw new Error("Two-Square cipher requires a non-empty keyword");r!==t.key&&(t.squares=t.generateSquares(r),t.key=r);for(var o=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),i=[],a=0;a<o.length;a+=2)a+1<o.length&&i.push([o[a],o[a+1]]);for(var u="",c=0,f=i;c<f.length;c++){var l=Ae(f[c],2),s=l[0],p=l[1];u+=t.decodeDigraph(s,p)}return u},t.squares=t.generateSquares(r),t}return t=a,(r=[{key:"generateSquares",value:function(e){return{square1:this.generateStandardSquare(),square2:this.generateKeyedSquare(e)}}},{key:"generateStandardSquare",value:function(){for(var e=[],t=0;t<5;t++){e[t]=[];for(var r=0;r<5;r++)e[t][r]="ABCDEFGHIKLMNOPQRSTUVWXYZ"[5*t+r]}return e}},{key:"generateKeyedSquare",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),r=new Set(t.split("")),n=t+"ABCDEFGHIKLMNOPQRSTUVWXYZ".split("").filter(function(e){return!r.has(e)}).join(""),o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=n[5*i+a]}return o}},{key:"findPosition",value:function(e,t){for(var r=t.toUpperCase().replace(/J/g,"I"),n=0;n<5;n++)for(var o=0;o<5;o++)if(e[n][o]===r)return{row:n,col:o};return null}},{key:"prepareMessage",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,""),r=[],n=0;n<t.length;n+=2){var o=t[n],i=t[n+1]||"X";o===i&&(i="X",n--),r.push([o,i])}return r}},{key:"encodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square1,e),n=this.findPosition(this.squares.square1,t);return r&&n?this.squares.square2[r.row][r.col]+this.squares.square2[n.row][n.col]:e+t}},{key:"decodeDigraph",value:function(e,t){var r=this.findPosition(this.squares.square2,e),n=this.findPosition(this.squares.square2,t);return r&&n?this.squares.square1[r.row][r.col]+this.squares.square1[n.row][n.col]:e+t}}])&&Ee(t.prototype,r),a}(n),ADFGX:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Te(n);if(o){var a=Te(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==_e(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"adfgx",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;y.validateMessage(e),y.validateKey(r,"string"),y.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"");if(0===i.length)return"";var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=ke(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(c.s();!(a=c.n()).done;){var f=a.value,l=t.findPosition(f);l&&(u+=t.getCoordinate(l.row),u+=t.getCoordinate(l.col))}}catch(e){c.e(e)}finally{c.f()}for(var s=o.length,p=[],h=0;h<u.length;h+=s)p.push(u.slice(h,h+s).split(""));if(p.length>0)for(;p[p.length-1].length<s;)p[p.length-1].push("X");for(var d=t.getSortedKeyIndices(n),g=[],v=0;v<s;v++)for(var b=d.indexOf(v),m=0;m<p.length;m++)g[m]||(g[m]=[]),g[m][v]=p[m][b];for(var w="",S=0;S<s;S++)for(var O=0;O<g.length;O++)g[O]&&g[O][S]&&(w+=g[O][S]);return w},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;y.validateMessage(e),y.validateKey(r,"string"),y.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^ADFGX]/g,"");if(0===i.length)return"";for(var a=o.length,u=Math.ceil(i.length/a),c=[],f=0,l=0;l<a;l++)for(var s=0;s<u;s++)c[s]||(c[s]=[]),f<i.length&&(c[s][l]=i[f],f++);for(var p=t.getSortedKeyIndices(n),h=[],d=0;d<a;d++)for(var g=p[d],v=0;v<u;v++)h[v]||(h[v]=[]),h[v][g]=c[v][d];for(var b="",m=0;m<u;m++)for(var w=0;w<a;w++)h[m]&&h[m][w]&&(b+=h[m][w]);for(var S=b.replace(/X+$/,""),O="",A=0;A<S.length-1;A+=2){var C=S[A],j=S[A+1],E=t.getCoordinateIndex(C),P=t.getCoordinateIndex(j);-1!==E&&-1!==P&&(O+=t.getChar(E,P))}return O},t.transpositionKey=n,t.grid=t.generateGrid(r),t.coordinates="ADFGX",t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(e){var r=e.toUpperCase().replace(/J/g,"I").replace(/[^A-Z]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=t[5*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getChar",value:function(e,t){return e>=0&&e<5&&t>=0&&t<5?this.grid[e][t]:""}},{key:"getCoordinate",value:function(e){return this.coordinates[e]}},{key:"getCoordinateIndex",value:function(e){return this.coordinates.indexOf(e.toUpperCase())}},{key:"getSortedKeyIndices",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,"").split(""),n=(t=r,function(e){if(Array.isArray(e))return Ie(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||ke(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort();return r.map(function(e){return n.indexOf(e)})}}],r&&Ke(t.prototype,r),a}(n),ADFGVX:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Le(n);if(o){var a=Le(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==qe(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEYWORD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"adfgvx",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;y.validateMessage(e),y.validateKey(r,"string"),y.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGVX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^A-Z0-9]/g,"");if(0===i.length)return"";var a,u="",c=function(e){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=De(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(i);try{for(c.s();!(a=c.n()).done;){var f=a.value,l=t.findPosition(f);l&&(u+=t.getCoordinate(l.row),u+=t.getCoordinate(l.col))}}catch(e){c.e(e)}finally{c.f()}for(var s=n.toUpperCase().replace(/[^A-Z]/g,"").length,p=[],h=0;h<u.length;h+=s)p.push(u.slice(h,h+s).split(""));if(p.length>0)for(;p[p.length-1].length<s;)p[p.length-1].push("X");for(var d=t.getSortedKeyIndices(n),g=[],v=0;v<s;v++)for(var b=d.indexOf(v),m=0;m<p.length;m++)g[m]||(g[m]=[]),g[m][v]=p[m][b];for(var w="",S=0;S<s;S++)for(var O=0;O<g.length;O++)g[O]&&g[O][S]&&(w+=g[O][S]);return w},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.transpositionKey;y.validateMessage(e),y.validateKey(r,"string"),y.validateKey(n,"string");var o=n?n.toUpperCase().replace(/[^A-Z]/g,""):"";if(!o||0===o.length)throw new Error("ADFGVX cipher requires a non-empty transposition key");r!==t.key&&(t.grid=t.generateGrid(r),t.key=r),t.transpositionKey=n;var i=e.toUpperCase().replace(/[^ADFGVX]/g,"");if(0===i.length)return"";for(var a=n.toUpperCase().replace(/[^A-Z]/g,"").length,u=Math.ceil(i.length/a),c=[],f=0,l=0;l<a;l++)for(var s=0;s<u;s++)c[s]||(c[s]=[]),f<i.length&&(c[s][l]=i[f],f++);for(var p=t.getSortedKeyIndices(n),h=[],d=0;d<a;d++)for(var g=p[d],v=0;v<u;v++)h[v]||(h[v]=[]),h[v][g]=c[v][d];for(var b="",m=0;m<u;m++)for(var w=0;w<a;w++)h[m]&&h[m][w]&&(b+=h[m][w]);for(var S=b.replace(/X+$/,""),O="",A=0;A<S.length-1;A+=2){var C=S[A],j=S[A+1],E=t.getCoordinateIndex(C),P=t.getCoordinateIndex(j);-1!==E&&-1!==P&&(O+=t.getChar(E,P))}return O},t.transpositionKey=n,t.grid=t.generateGrid(r),t.coordinates="ADFGVX",t}return t=a,r=[{key:"generateGrid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";if(e){var r=e.toUpperCase().replace(/[^A-Z0-9]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).join(""),n=t.split("").filter(function(e){return!r.includes(e)}).join("");t=r+n}for(var o=[],i=0;i<6;i++){o[i]=[];for(var a=0;a<6;a++)o[i][a]=t[6*i+a]}return o}},{key:"findPosition",value:function(e){for(var t=e.toUpperCase(),r=0;r<6;r++)for(var n=0;n<6;n++)if(this.grid[r][n]===t)return{row:r,col:n};return null}},{key:"getChar",value:function(e,t){return e>=0&&e<6&&t>=0&&t<6?this.grid[e][t]:""}},{key:"getCoordinate",value:function(e){return this.coordinates[e]}},{key:"getCoordinateIndex",value:function(e){return this.coordinates.indexOf(e.toUpperCase())}},{key:"getSortedKeyIndices",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,"").split(""),n=(t=r,function(e){if(Array.isArray(e))return xe(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||De(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort();return r.map(function(e){return n.indexOf(e)})}}],r&&Me(t.prototype,r),a}(n)};function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ye(e,t){return Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ye(e,t)}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Be(e,t){return Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Be(e,t)}function We(e){return We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},We(e)}function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function ze(e,t){return ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ze(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){return tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tt(e,t)}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function ot(e,t){return ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ot(e,t)}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}const at={CaesarShift:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Xe(t);if(r){var a=Xe(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Ge(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e,i,"caesarShift",t,"",a)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return y.validateMessage(e),y.validateKey(t,"number"),r.shiftCharacters(e,t)},r.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return y.validateMessage(e),y.validateKey(t,"number"),r.shiftCharacters(e,-t)},r}return o}(n),Rot5:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=Ve(t);if(r){var a=Ve(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Qe(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot5",5,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot7:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=We(t);if(r){var a=We(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==Je(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot7",7,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot13:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=$e(t);if(r){var a=$e(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==He(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot13",13,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot18:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=rt(t);if(r){var a=rt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==et(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot18",18,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n),Rot47:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=it(t);if(r){var a=it(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==nt(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,r,"rot47",47,"",i)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,r)},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.shiftCharacters(e,-r)},t}return o}(n)};function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,o,i=ft(t);if(r){var a=ft(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return n=this,!(o=e)||"object"!==ut(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AAA",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AAA",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PO ML IU KJ NH YT GB VF RE DC",u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"123",c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e,c,"enigma","","",f)).initialize=function(){t.rotorsettings=t.rotorSettings.replace(/[^1-9]/g,""),t.keysettings=t.keySettings.toUpperCase().replace(/[^A-Z]/g,""),t.ringsettings=t.ringSettings.toUpperCase().replace(/[^A-Z]/g,""),t.plugboardsettings=t.plugboardSettings.toUpperCase().replace(/[^A-Z]/g,"")},t.setupPlugboard=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=e.split(""),n=0,o=1;n<t.plugboardsettings.length;n+=2,o+=2){var i=e.indexOf(t.plugboardsettings.charAt(n)),a=e.indexOf(t.plugboardsettings.charAt(o)),u=r[a];r[a]=r[i],r[i]=u}return r.join("")},t.setupKey=function(){var e=t.keysettings.split("");return e[0]=t.code(e[0]),e[1]=t.code(e[1]),e[2]=t.code(e[2]),e},t.setupCode=function(){var e=t.ringsettings.split("");return e[0]=t.code(e[0]),e[1]=t.code(e[1]),e[2]=t.code(e[2]),e},t.getRotors=function(){var e=t.rotorsettings.split("");return e[0]=e[0].valueOf()-1,e[1]=e[1].valueOf()-1,e[2]=e[2].valueOf()-1,e},t.encode=function(){y.validateMessage(t.message);var e="",r=t.message.replace(/[^A-Z]/g,"");if(t.initialize(),t.validateSettings(r)){var n=t.getRotors(),o=t.setupPlugboard(),i=t.setupKey(),a=t.setupCode(),u="",c="";r.split("").forEach(function(r){(u=r).match(/[A-Z]/)?(i=t.incrementSettings(i,n),c=t.enigmaChar(u,i,n,a,o),e+=c):e+=u})}return e},t.validateSettings=function(e){var r=!0;return e.length<1&&(r=!1),3!==t.keysettings.length&&(r=!1),3!==t.ringsettings.length&&(r=!1),t.plugboardsettings.length>26&&(r=!1),t.plugboardsettings.length%2!=0&&(r=!1),3!==t.rotorsettings.length&&(r=!1),r},t.enigmaChar=function(e,r,n,o,i){var a=e;return a=t.simplesub(a,i),a=t.rotor(a,n[2],r[2]-o[2]),a=t.rotor(a,n[1],r[1]-o[1]),a=t.rotor(a,n[0],r[0]-o[0]),a=t.simplesub(a,"YRUHQSLDPXNGOKMIEBFZCWVJAT"),a=t.rotor(a,n[0]+8,r[0]-o[0]),a=t.rotor(a,n[1]+8,r[1]-o[1]),a=t.rotor(a,n[2]+8,r[2]-o[2]),t.simplesub(a,i)},t.incrementSettings=function(e,t){var r=e,n=[[16,16],[4,4],[21,21],[9,9],[25,25],[25,12],[25,12],[25,12]];return r[1]!==n[t[1]][0]&&r[1]!==n[t[1]][1]||(r[0]=(r[0]+1)%26,r[1]=(r[1]+1)%26),r[2]!==n[t[2]][0]&&r[2]!==n[t[2]][1]||(r[1]=(r[1]+1)%26),r[2]=(r[2]+1)%26,r},t.simplesub=function(e,r){return r.charAt(t.code(e))},t.rotor=function(e,r,n){var o=(t.code(e)+26+n)%26,i=(t.code(["EKMFLGDQVZNTOWYHXUSPAIBRCJ","AJDKSIRUXBLHWTMCQGZNPYFVOE","BDFHJLCPRTXVZNYEIWGAKMUSQO","ESOVPZJAYQUIRHXLNFTGKDCMWB","VZBRGITYUPSDNHLXAWMJQOFECK","JPGVOUMFYQBENHZRDKASXLICTW","NZJHGRCXMYSWBOUFAIVLPEKQDT","FKQHTLXOCBJSPDZRAMEWNIUYGV","UWYGADFPVZBECKMTHXSLRINQOJ","AJPCZWRLFBDKOTYUQGENHXMIVS","TAGBPCSDQEUFVNZHYIXJWLRKOM","HZWVARTNLGUPXQCEJMBSKDYOIF","QCYLXWENFTZOSMVJUDKGIARPHB","SKXQLHCNWARVGMEBJPTYFDZUIO","QMGYVPEDRCWTIANUXFKZOSLHJB","QJINSAYDVKBFRUHMCPLEWZTGXO"][r].charAt(o))+26-n)%26+65;return String.fromCharCode(i)},t.code=function(e){return e.toUpperCase().charCodeAt(0)-65},t.message=e.toUpperCase(),t.keySettings=r,t.ringSettings=i,t.plugboardSettings=a,t.rotorSettings=u,t}return o}(n);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yt(e,t){return yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yt(e,t)}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=ht(n);if(o){var a=ht(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==st(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"vigenere",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f+l)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f-l+26)%26+65),a+=1}else i+=c}return i},t}return t=a,(r=[{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&pt(t.prototype,r),a}(n);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function vt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bt(e,t){return bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bt(e,t)}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=mt(n);if(o){var a=mt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==gt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"beaufort",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Beaufort cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((l-f+26)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;return t.encode(e,r)},t}return t=a,(r=[{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&vt(t.prototype,r),a}(n);function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function At(e,t){return At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},At(e,t)}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ct(n);if(o){var a=Ct(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==St(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"porta",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Porta cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=o[a%o.length],l=t.getPairIndex(f),s=t.alphabetPairs[l],p=c.charCodeAt(0)-65;i+=s[0][p],a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Porta cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=o[a%o.length],l=t.getPairIndex(f),s=t.alphabetPairs[l][0].indexOf(c);i+=-1!==s?String.fromCharCode(s+65):c,a+=1}else i+=c}return i},t.alphabetPairs=t.generateAlphabetPairs(),t}return t=a,(r=[{key:"generateAlphabetPairs",value:function(){for(var e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<13;r++){for(var n=[],o="",i=0;i<13;i++)o+=t[(i+r)%13];for(var a=0;a<13;a++)o+=t[25-(a+r)%13];for(var u="",c=0;c<26;c++){var f=t[c];u+=t[o.indexOf(f)]}n.push(o),n.push(u),e.push(n)}return e}},{key:"getPairIndex",value:function(e){return(e.toUpperCase().charCodeAt(0)-65)%13}}])&&Ot(t.prototype,r),a}(n);function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rt(e,t){return Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rt(e,t)}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=_t(n);if(o){var a=_t(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Et(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12345",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,n,"gronsfeld",r,"",o)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Gronsfeld cipher requires a non-empty numeric keyword");var n=e.toUpperCase(),o=r.replace(/[^0-9]/g,"");if(0===o.length)throw new Error("Gronsfeld cipher requires a numeric keyword (digits 0-9)");for(var i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f+l)%26+65),a+=1}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Gronsfeld cipher requires a non-empty numeric keyword");var n=e.toUpperCase(),o=r.replace(/[^0-9]/g,"");if(0===o.length)throw new Error("Gronsfeld cipher requires a numeric keyword (digits 0-9)");for(var i="",a=0,u=0;u<n.length;u+=1){var c=n[u];if(/[A-Z]/.test(c)){var f=c.charCodeAt(0)-65,l=t.getShift(o[a%o.length]);i+=String.fromCharCode((f-l+26)%26+65),a+=1}else i+=c}return i},t}return t=a,(r=[{key:"getShift",value:function(e){var t=parseInt(e,10);return isNaN(t)?0:t}}])&&Pt(t.prototype,r),a}(n);function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tt(e,t){return Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tt(e,t)}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=qt(n);if(o){var a=qt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==It(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire1",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=t.generateCipherAlphabet(r),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];/[A-Z]/.test(f)?(a+=i[(f.charCodeAt(0)-65+t.getShift(o[u%o.length]))%26],u+=1):a+=f}return a},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=t.generateCipherAlphabet(r),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=t.getShift(o[u%o.length]),s=i.indexOf(f);if(-1!==s){var p=(s-l+26)%26;a+=String.fromCharCode(p+65)}else a+=f;u+=1}else a+=f}return a},t.cipherAlphabet=n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ",t}return t=a,(r=[{key:"generateCipherAlphabet",value:function(e){if(this.cipherAlphabet&&26===this.cipherAlphabet.length)return this.cipherAlphabet.toUpperCase();var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(o+=a,n.add(a))}}catch(e){i.e(e)}finally{i.f()}for(var u=65;u<=90;u++){var c=String.fromCharCode(u);n.has(c)||(o+=c)}return o}},{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}])&&Ut(t.prototype,r),a}(n);function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zt(e,t){return Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zt(e,t)}function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lt(e)}var Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Lt(n);if(o){var a=Lt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==xt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire2",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(t.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=i[u%i.length];a+=t.generateCipherAlphabet(l)[(f.charCodeAt(0)-65+t.getShift(o[u%o.length]))%26],u+=1}else a+=f}return a},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.key;if(y.validateMessage(e),y.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(t.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",u=0,c=0;c<n.length;c+=1){var f=n[c];if(/[A-Z]/.test(f)){var l=i[u%i.length],s=t.generateCipherAlphabet(l),p=t.getShift(o[u%o.length]),h=s.indexOf(f);if(-1!==h){var d=(h-p+26)%26;a+=String.fromCharCode(d+65)}else a+=f;u+=1}else a+=f}return a},t.indicator=n||"A",t}return t=a,r=[{key:"generateCipherAlphabet",value:function(e){for(var t=e.toUpperCase().charCodeAt(0)-65,r="",n=0;n<26;n++){var o=(n+t)%26;r+=String.fromCharCode(o+65)}return r}},{key:"getShift",value:function(e){return e.toUpperCase().charCodeAt(0)-65}}],r&&Mt(t.prototype,r),a}(n);function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qt(e,t){return Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qt(e,t)}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(e)}function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wt(e,t){return Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wt(e,t)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}const zt={Vigenere:dt,Beaufort:wt,Porta:jt,Gronsfeld:kt,Quagmire1:Dt,Quagmire2:Nt,Quagmire3:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Yt(n);if(o){var a=Yt(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Gt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,o,"quagmire3",r,"",u)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;if(y.validateMessage(e),y.validateKey(t.key,"string"),y.validateKey(r,"string"),!t.key||0===t.key.length)throw new Error("Quagmire III cipher requires a non-empty keyword");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f+s)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;y.validateMessage(e),y.validateKey(t.key,"string"),y.validateKey(r,"string");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f-s+26)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.indicator=n||"KEY",t.keyedAlphabet=t.buildKeyedAlphabet(r),t}return t=a,(r=[{key:"buildKeyedAlphabet",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ft(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(n.add(a),o+=a)}}catch(e){i.e(e)}finally{i.f()}for(var u=0;u<26;u++){var c=String.fromCharCode(65+u);n.has(c)||(n.add(c),o+=c)}return o}},{key:"indexInKeyed",value:function(e){return this.keyedAlphabet.indexOf(e.toUpperCase())}}])&&Xt(t.prototype,r),a}(n),Quagmire4:function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,r,i=Ht(n);if(o){var a=Ht(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return t=this,!(r=e)||"object"!==Vt(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):r});function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ABC",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e,u,"quagmire4",r,"",c)).encode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;if(y.validateMessage(e),y.validateKey(t.key,"string"),y.validateKey(r,"string"),!t.key||0===t.key.length)throw new Error("Quagmire IV cipher requires a non-empty keyword");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f+s)%26;i+=t.cipherKeyedAlphabet[p],a++}}else i+=c}return i},t.decode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.indicator;y.validateMessage(e),y.validateKey(t.key,"string"),y.validateKey(r,"string");var n=e.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,u=0;u<n.length;u++){var c=n[u];if(/[A-Z]/.test(c)){var f=t.indexInCipherKeyed(c),l=o[a%o.length],s=t.indexInKeyed(l);if(-1===f||-1===s)i+=c;else{var p=(f-s+26)%26;i+=t.keyedAlphabet[p],a++}}else i+=c}return i},t.indicator=n||"ABC",t.cipherAlphabet=o||"",t.keyedAlphabet=t.buildKeyedAlphabet(r),t.cipherKeyedAlphabet=t.buildCipherKeyedAlphabet(r),t}return t=a,(r=[{key:"buildKeyedAlphabet",value:function(e){var t,r=e.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.has(a)||(n.add(a),o+=a)}}catch(e){i.e(e)}finally{i.f()}for(var u=0;u<26;u++){var c=String.fromCharCode(65+u);n.has(c)||(n.add(c),o+=c)}return o}},{key:"buildCipherKeyedAlphabet",value:function(e){return this.cipherAlphabet&&26===this.cipherAlphabet.length?this.cipherAlphabet.toUpperCase():this.buildKeyedAlphabet(e)}},{key:"indexInKeyed",value:function(e){return this.keyedAlphabet.indexOf(e.toUpperCase())}},{key:"indexInCipherKeyed",value:function(e){return this.cipherKeyedAlphabet.indexOf(e.toUpperCase())}}])&&Bt(t.prototype,r),a}(n)};var $t=function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getTestMessage=function(e){return t.testMessages[e]},this.getChar=function(e){return t.alphabet[e]},this.setChar=function(e,r){return t.alphabet[e]=r,t.processMessage()},this.resetAlphabet=function(){return Object.keys(t.alphabet).map(function(e,r){return t.alphabet[e]=e}),t.processMessage()},this.swapChar=function(e,r){var n=t.alphabet[e];return t.alphabet[e]=t.alphabet[r],t.alphabet[r]=n,t.processMessage()},this.setByFrequency=function(){var e=t.sortProperties(t.freqAnalysis(t.message)),r=t.sortProperties(t.getSLFreq()),n=0;do{t.setChar(String(r[n][0]).toLowerCase(),String(e[n][0]).toLowerCase()),n+=1}while(n<e.length-1);return t.processMessage()},this.processMessage=function(){var e="";return t.message.split("").forEach(function(r){var n=t.alphabet[r];e+=""!==n?n:"?"}),e},this.getSLFreq=function(){return a},this.getS2Freq=function(){return u},this.getS3Freq=function(){return c},this.getS4Freq=function(){return f},this.freqAnalysis=function(){var e={},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("");t.forEach(function(t){t in e?e[t]+=1:e[t]=1});var r=t.length;return Object.keys(e).forEach(function(t){var n=e[t];e[t]=parseFloat((n/r*100).toFixed(3))}),e},this.sortProperties=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",r=[];return e.forEach(function(t){r.push([t,e[t]])}),"asc"===t?r.sort(function(e,t){return e[1]-t[1]}):r.sort(function(e,t){return t[1]-e[1]}),r},this.testMessages=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","Las dos jornadas tuvieron un denominador común: insistir, y mucho, en educar en temas financieros, a los efectos de que la gente tenga claro cuáles son las ventajas y riesgos a los que se enfrenta.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus suscipit velit vitae vulputate. Vivamus vel tempus lacus. Fusce dictum, leo id porttitor dapibus, leo diam rutrum nulla, ut feugiat","La posición de Washington hacia las elecciones en Palestina ha sido coherente. Las elecciones fueron postergadas hasta la muerte de Yasser Arafat, que fue recibida como una oportunidad para la realización  "],this.message=r,this.alphabet={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"}};return t})());