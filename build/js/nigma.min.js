!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.nigmajs=e():t.nigmajs=e()}(this,()=>(()=>{"use strict";var t={d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(e),t.d(e,{BasicCipher:()=>n,Columnar:()=>d,Dictionary:()=>Y,Enigma:()=>dt,Polyalphabetic:()=>qt,Shift:()=>st,default:()=>Vt});var n=function(){function t(e,r,n,o,i,a){var c=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getMsg=function(){return c.message},this.getEncoded=function(){return c.encoded},this.getMethod=function(){return c.method},this.getKey=function(){return c.key},this.getAlphabet=function(){return c.alphabet},this.shiftCharacters=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Math.abs(e)>26&&(e%=26),e<0&&(e+=26);for(var r="",n=0;n<t.length;n+=1){var o=t[n];if(o.match(/[a-z]/i)){var i=t.charCodeAt(n);i>=65&&i<=90?o=String.fromCharCode((i-65+e)%26+65):i>=97&&i<=122&&(o=String.fromCharCode((i-97+e)%26+97))}r+=o}return r},this.text2block=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t,n=(r=r.replace(/ /g,""))[0],o=1;do{o%e===0&&(n+=" "),n+=r[o],o+=1}while(o<r.length);return n},this.encodeAlphabet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return t.toLowerCase().split(" ").map(function(t){t.split("").map(function(t){var r=c.getKeyByValue(c.alphabet,t);void 0!==r&&(n+=r+e)}),e.length>0&&(n=n.slice(0,-e.length)),n+=r}),r.length>0&&(n=n.slice(0,-r.length)),n},this.decodeAlphabet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n="";return t.split(r).map(function(t){t.split(e).map(function(t){var e=c.alphabet[t];void 0!==e&&(n+=e)}),n+=" "}),n=n.slice(0,-1)},this.validateEncoded=function(){return!0===c.encoded&&null!=c.message&&""!==c.message},this.transposeMatrix=function(t){return t[0].map(function(e,r){return t.map(function(t){return t[r]})})},this.getKeyByValue=function(t,e){return Object.keys(t).find(function(r){return t[r]===e})},this.logMessage=function(t){c.debug&&console.log(t)},this.test=function(){return"NigmaJS enabled"},this.message=e,this.encoded=r,this.method=n,this.key=null!=o?o:"",this.alphabet=i,this.debug=a}var e,n;return e=t,(n=[{key:"setMsg",value:function(t){return this.message=t,this}},{key:"setEncoded",value:function(t){return this.encoded=t,this}},{key:"setMethod",value:function(t){return this.method=t,this}},{key:"setKey",value:function(t){return this.key=t,this}},{key:"setAlphabet",value:function(t){return this.alphabet=t,this}},{key:"sortColumns",value:function(t,e){return t[0]===e[0]?0:t[0]<e[0]?-1:1}}])&&r(e.prototype,n),t}(),o={A:12.5,K:.08,T:4.42,B:1.27,L:5.84,U:4,C:4.43,M:2.61,V:.98,D:5.14,N:7.09,W:.03,E:13.24,Ñ:.22,X:.19,F:.79,O:8.98,Y:.79,G:1.17,P:2.75,Z:.42,H:.81,Q:.83,I:6.91,R:6.62,J:.45,S:7.44},i={DE:2.57,AD:1.43,TA:1.09,ES:2.31,AR:1.43,TE:1,EN:2.27,RE:1.42,OR:.98,EL:2.01,AL:1.33,DO:.98,LA:1.8,AN:1.24,IO:.98,OS:1.79,NT:1.22,AC:.96,ON:1.61,UE:1.21,ST:.95,AS:1.56,CI:1.15,NA:.92,ER:1.52,CO:1.13,RO:.85,RA:1.47,SE:1.11,UN:.84},a={DEL:.75,EST:.48,PAR:.32,QUE:.74,LOS:.47,DES:.31,ENT:.67,ODE:.47,ESE:.3,ION:.56,ADO:.45,IEN:.3,ELA:.55,RES:.4,ALA:.29,CON:.54,STA:.38,POR:.29,SDE:.52,ACI:.36,ONE:.29,ADE:.51,LAS:.35,NDE:.29,CIO:.5,ARA:.34,TRA:.28,NTE:.49,ENE:.32,NES:.27},c={CION:.42,MENT:.16,NCIA:.14,DELA:.33,IONE:.16,AQUE:.14,ACIO:.27,ODEL:.16,SQUE:.14,ENTE:.25,ONDE:.16,ENCI:.13,ESTA:.22,OQUE:.15,ENLA:.13,ESDE:.22,IDAD:.15,ENTR:.13,PARA:.19,ELOS:.15,IENT:.12,ONES:.17,ADEL:.15,ASDE:.12,SDEL:.17,ANTE:.15,ENEL:.12,OSDE:.17,ENTO:.14,DELO:.12};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"validateMessage",value:function(t){if(null==t)throw new TypeError("Message cannot be null or undefined");if("string"!=typeof t)throw new TypeError("Message must be a string, got ".concat(u(t)));if(""===t.trim())throw new Error("Message cannot be empty");return!0}},{key:"validateKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if(null==t)throw new TypeError("Key cannot be null or undefined");if("number"===e&&"number"!=typeof t)throw new TypeError("Key must be a number, got ".concat(u(t)));if("string"===e&&"string"!=typeof t)throw new TypeError("Key must be a string, got ".concat(u(t)));if("number"===e&&isNaN(t))throw new TypeError("Key must be a valid number, got NaN");return!0}},{key:"validateAlphabet",value:function(t){if(null==t)throw new TypeError("Alphabet cannot be null or undefined");if("object"!==u(t))throw new TypeError("Alphabet must be an object, got ".concat(u(t)));if(Array.isArray(t))throw new TypeError("Alphabet must be an object, not an array");return!0}},{key:"validateBoolean",value:function(t){if("boolean"!=typeof t)throw new TypeError("".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value"," must be a boolean, got ").concat(u(t)));return!0}}],null&&f(e.prototype,null),r&&f(e,r),t}();function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}const d={Amsco:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=h(e);if(r){var a=h(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==p(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,t,i,"amsco",e,"",a)).decodingConstructor=function(t,e){var n=e.split("").map(function(t){return t-1}),o=[];n.map(function(t){o.push([t])});var i=r.generateDecodingMatrix(t.length,n,1,2);return[o,i,n]},r.validateKey=function(){var t=!0,e=r.key.split("").sort(),n=/^\d+$/;if(r.logMessage("Check for [0-9] chars only: ".concat(n.test(r.key)," key analyzed : ").concat(r.key)),n.test(r.key)){r.logMessage("Numbers only Key: ".concat(e," "));var o=0;do{var i=e[o];r.logMessage("Validating ... Char ".concat(i," of type ").concat(p(i)," at ").concat(o)),i===(1+o).toString()?o+=1:(t=!1,r.logMessage("Sequence not validated"))}while(!0===t&&o<e.length)}else r.logMessage("Invalid key, Non numbers detected"),t=!1;return t},r.generateDecodingMatrix=function(t,e,r,n){var o=[],i=r||1,a=n||2;e.map(function(t){o.push([])});var c=0;do{o.forEach(function(e){c<t?t-c>i?e.push(i):e.push(t-c):e.push(0),c+=i,i=i===r?a:r}),i=i===r?a:r}while(c<t);return o},r.processMatrixDecoding=function(t,e,n){var o=0,i=1,a=0,c=t,u=e,f=n;do{var l=0,s=f.indexOf(a);do{i=o+u[s][l];var p=r.message.slice(o,i);c[s].push(p),o=i,l+=1}while(l<u[s].length);a+=1}while(a<u.length);return c},r.decode=function(){l.validateMessage(r.message);var t=[];if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");var e=r.decodingConstructor(r.message,r.key);return t=r.processMatrixDecoding(e[0],e[1],e[2]),(t=r.transposeMatrix(t)).shift(),t=(t=t.map(function(t){return t.join("")})).join(""),r.logMessage("Done decoding: ".concat(t)),t},r.encode=function(){l.validateMessage(r.message);var t="",e=[],n=[],o="";if(!r.validateKey())throw new Error("Invalid key format for AMSCO cipher. Key must contain sequential numbers 1-n.");t=r.message.replace(/\s+/g,"").toLocaleUpperCase();var i,a,c=r.decodingConstructor(r.message,r.key),u=(a=1,function(t){if(Array.isArray(t))return t}(i=c)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(i,a)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());e=u[0],n=r.transposeMatrix(c[1]);var f=0,p=0;return n.forEach(function(r){r.forEach(function(n){e[p].push(t.slice(f,f+n)),f+=n,p<r.length-1?p+=1:p=0})}),e.sort(r.sortFunction),e.forEach(function(t){t.shift(),o+=t.join("")}),o},r}return o}(n)};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=v(e);if(r){var a=v(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==b(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"atbash","",{4:"a",3:"b",2:"c",1:"d",0:"e",z:"f",y:"g",x:"h",w:"i",v:"j",u:"k",t:"l",s:"m",r:"n",q:"o",p:"p",o:"q",n:"r",m:"s",l:"t",k:"u",j:"v",i:"w",h:"x",g:"y",f:"z",e:"0",d:"1",c:"2",b:"3",a:"4","!":"5","?":"6",",":"7",".":"8"," ":"9",9:" ",8:".",7:",",6:"?",5:"!"},i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.encodeAlphabet(t,e.characterSep,e.wordSep)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.decodeAlphabet(t,e.characterSep,e.wordSep)},e.wordSep=" ",e.characterSep="",e}return o}(n);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=O(e);if(r){var a=O(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==S(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t,e,r,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(a=n.call(this,t,r,"autoKey",e,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=t.toLowerCase().replace(/[^a-z]/g,""),n=e.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>=1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97+(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97+(r.charCodeAt(i-n.length)-97)+26)%26+97);return o},a.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.key,r=t.toLowerCase().replace(/[^a-z]/g,""),n=e.toLowerCase().replace(/[^a-z]/g,""),o="";if(r.length>1&&n.length>1)for(var i=0;i<r.length;i+=1)i<n.length?o+=String.fromCharCode((r.charCodeAt(i)-97-(n.charCodeAt(i)-97)+26)%26+97):o+=String.fromCharCode((r.charCodeAt(i)-97-(o.charCodeAt(i-n.length)-97)+26)%26+97);return o},a}return o}(n);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=j(e);if(r){var a=j(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==C(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"baconian","",{aaaaa:"a",aaaab:"b",aaaba:"c",aaabb:"d",aabaa:"e",aabab:"f",aabba:"g",aabbb:"h",abaaa:"i",abaab:"j",ababa:"k",ababb:"l",abbaa:"m",abbab:"n",abbba:"o",abbbb:"p",baaaa:"q",baaab:"r",baaba:"s",baabb:"t",babaa:"u",babab:"v",babba:"w",babbb:"x",bbaaa:"y",bbaab:"z"},i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.encodeAlphabet(t,e.characterSep,e.wordSep)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return e.decodeAlphabet(t,e.characterSep,e.wordSep)},e.wordSep="   ",e.characterSep=" ",e}return o}(n);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T(t,e){return T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},T(t,e)}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=I(e);if(r){var a=I(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==_(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var f={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"};return(r=n.call(this,t,c,"simpleSubstitution",e,f,u)).getI=function(){return r.i},r.getV=function(){return r.v},r.validateKey=function(t){var e=t.replace(/\s/g,"");return e.toLowerCase()},r.validateRemovedChars=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.v;return!0===e&&106===t||!0===n&&118===t},r.putLetter2Alphabet=function(t,e,n,o){var i=n,a=o;return e.includes(t)||r.validateRemovedChars(t.charCodeAt(0))||(r.validateRemovedChars(a,r.i,r.v)&&(delete i[String.fromCharCode(a)],a+=1),i[String.fromCharCode(a)]=t,e.push(t),a+=1),[t,e,i,a]},r.alphabetConstructor=function(t,e){var n=[],o=97;e.split("").forEach(function(e){var i=P(r.putLetter2Alphabet(e,n,t,o),4);e=i[0],n=i[1],t=i[2],o=i[3]});var i=97,a="";do{a=String.fromCharCode(i);var c=P(r.putLetter2Alphabet(a,n,t,o),4);a=c[0],n=c[1],t=c[2],o=c[3],i+=1}while(o<123);return t},r.encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return l.validateMessage(t),r.encodeAlphabet(t,r.characterSep,r.wordSep)},r.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return l.validateMessage(t),r.decodeAlphabet(t,r.characterSep,r.wordSep)},r.i=i,r.v=a,r.key=r.validateKey(e),r.setAlphabet(r.alphabetConstructor(f,r.key)),r.wordSep=" ",r.characterSep="",r}return o}(n);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function N(t,e){return N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},N(t,e)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function Q(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function F(t,e){return F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},F(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}const Y={Atbash:m,Autokey:A,Baconian:R,Bazeries:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=K(e);if(r){var a=K(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==M(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,t,e,!0,!1,i,"",{},a)).transpositionAlphabet=function(t,e){var n=r.alphabet,o=[],i=[];Object.keys(n).forEach(function(t){t.charCodeAt(0)>=97&&t.charCodeAt(0)<=123&&i.push(n[t]),i.length===e&&(o.push(i),i=[])}),o=(o=r.transposeMatrix(o)).join();var a=97;o.split(",").forEach(function(t){n[String.fromCharCode(a)]=t,a+=1}),r.setAlphabet(n)},r.encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.encodeAlphabet(t,r.characterSep,r.wordSep)},r.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message;return r.decodeAlphabet(t,r.characterSep,r.wordSep)},r.method="bazeries",r.wordSep=" ",r.characterSep="",r.transpositionAlphabet(5,5),r}return o}(D),Morse:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=L(e);if(r){var a=L(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==U(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"morse","",{"-----":"0",".----":"1","..---":"2","...--":"3","....-":"4",".....":"5","-....":"6","--...":"7","---..":"8","----.":"9",".-":"a","-...":"b","-.-.":"c","-..":"d",".":"e","..-.":"f","--.":"g","....":"h","..":"i",".---":"j","-.-":"k",".-..":"l","--":"m","-.":"n","---":"o",".--.":"p","--.-":"q",".-.":"r","...":"s","-":"t","..-":"u","...-":"v",".--":"w","-..-":"x","-.--":"y","--..":"z","/":" ","-·-·--":"!","·-·-·-":".","--··--":","})).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return l.validateMessage(t),e.encodeAlphabet(t,e.characterSep,e.wordSep)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message;return l.validateMessage(t),e.decodeAlphabet(t,e.characterSep,e.wordSep)},e.wordSep="   ",e.characterSep=" ",e}return o}(n),Polybius:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=B(n);if(o){var a=B(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return e=this,!(r=t)||"object"!==Z(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r});function a(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t,n,"polybius",r,"",o)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;l.validateMessage(t),r!==e.key&&(e.grid=e.generateGrid(r),e.key=r);var n,o="",i=Q(t.toUpperCase().replace(/[^A-Z]/g,""));try{for(i.s();!(n=i.n()).done;){var a=n.value,c=e.findPosition(a);c&&(o+="".concat(c.row).concat(c.col," "))}}catch(t){i.e(t)}finally{i.f()}return o.trim()},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;l.validateMessage(t),r!==e.key&&(e.grid=e.generateGrid(r),e.key=r);var n,o="",i=Q(t.match(/\d{2}/g)||[]);try{for(i.s();!(n=i.n()).done;){var a=n.value,c=parseInt(a[0])-1,u=parseInt(a[1])-1;c>=0&&c<5&&u>=0&&u<5&&(o+=e.grid[c][u])}}catch(t){i.e(t)}finally{i.f()}return o},e.grid=e.generateGrid(r),e}return e=a,r=[{key:"generateGrid",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="ABCDEFGHIKLMNOPQRSTUVWXYZ";if(t){var r=t.toUpperCase().replace(/J/g,"I").split("").filter(function(t,e,r){return/[A-Z]/.test(t)&&r.indexOf(t)===e}).join(""),n=e.split("").filter(function(t){return!r.includes(t)}).join("");e=r+n}for(var o=[],i=0;i<5;i++){o[i]=[];for(var a=0;a<5;a++)o[i][a]=e[5*i+a]}return o}},{key:"findPosition",value:function(t){for(var e=t.toUpperCase().replace(/J/g,"I"),r=0;r<5;r++)for(var n=0;n<5;n++)if(this.grid[r][n]===e)return{row:r+1,col:n+1};return null}}],r&&V(e.prototype,r),a}(n),SimpleSubstitution:D};function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function J(t,e){return J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},J(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function X(t,e){return X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},X(t,e)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t,e){return tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){return nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){return at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},at(t,e)}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ft(t,e){return ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ft(t,e)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}const st={CaesarShift:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=H(e);if(r){var a=H(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==G(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t,e){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,t,i,"caesarShift",e,"",a)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return l.validateMessage(t),l.validateKey(e,"number"),r.shiftCharacters(t,e)},r.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.message,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.key;return l.validateMessage(t),l.validateKey(e,"number"),r.shiftCharacters(t,-e)},r}return o}(n),Rot5:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=z(e);if(r){var a=z(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==W(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"rot5",5,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,r)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-r)},e}return o}(n),Rot7:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=et(e);if(r){var a=et(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==$(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"rot7",7,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,r)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-r)},e}return o}(n),Rot13:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nt(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=ot(e);if(r){var a=ot(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==rt(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"rot13",13,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,r)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-r)},e}return o}(n),Rot18:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=ct(e);if(r){var a=ct(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==it(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"rot18",18,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,r)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-r)},e}return o}(n),Rot47:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=lt(e);if(r){var a=lt(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==ut(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,r,"rot47",47,"",i)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,r)},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;return e.shiftCharacters(t,-r)},e}return o}(n)};function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function yt(t,e){return yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yt(t,e)}function ht(t){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ht(t)}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(o,t);var e,r,n=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n,o,i=ht(e);if(r){var a=ht(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return n=this,!(o=t)||"object"!==pt(o)&&"function"!=typeof o?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n):o});function o(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AAA",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AAA",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"PO ML IU KJ NH YT GB VF RE DC",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"123",u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,t,u,"enigma","","",f)).initialize=function(){e.rotorsettings=e.rotorSettings.replace(/[^1-9]/g,""),e.keysettings=e.keySettings.toUpperCase().replace(/[^A-Z]/g,""),e.ringsettings=e.ringSettings.toUpperCase().replace(/[^A-Z]/g,""),e.plugboardsettings=e.plugboardSettings.toUpperCase().replace(/[^A-Z]/g,"")},e.setupPlugboard=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=t.split(""),n=0,o=1;n<e.plugboardsettings.length;n+=2,o+=2){var i=t.indexOf(e.plugboardsettings.charAt(n)),a=t.indexOf(e.plugboardsettings.charAt(o)),c=r[a];r[a]=r[i],r[i]=c}return r.join("")},e.setupKey=function(){var t=e.keysettings.split("");return t[0]=e.code(t[0]),t[1]=e.code(t[1]),t[2]=e.code(t[2]),t},e.setupCode=function(){var t=e.ringsettings.split("");return t[0]=e.code(t[0]),t[1]=e.code(t[1]),t[2]=e.code(t[2]),t},e.getRotors=function(){var t=e.rotorsettings.split("");return t[0]=t[0].valueOf()-1,t[1]=t[1].valueOf()-1,t[2]=t[2].valueOf()-1,t},e.encode=function(){l.validateMessage(e.message);var t="",r=e.message.replace(/[^A-Z]/g,"");if(e.initialize(),e.validateSettings(r)){var n=e.getRotors(),o=e.setupPlugboard(),i=e.setupKey(),a=e.setupCode(),c="",u="";r.split("").forEach(function(r){(c=r).match(/[A-Z]/)?(i=e.incrementSettings(i,n),u=e.enigmaChar(c,i,n,a,o),t+=u):t+=c})}return t},e.validateSettings=function(t){var r=!0;return t.length<1&&(r=!1),3!==e.keysettings.length&&(r=!1),3!==e.ringsettings.length&&(r=!1),e.plugboardsettings.length>26&&(r=!1),e.plugboardsettings.length%2!=0&&(r=!1),3!==e.rotorsettings.length&&(r=!1),r},e.enigmaChar=function(t,r,n,o,i){var a=t;return a=e.simplesub(a,i),a=e.rotor(a,n[2],r[2]-o[2]),a=e.rotor(a,n[1],r[1]-o[1]),a=e.rotor(a,n[0],r[0]-o[0]),a=e.simplesub(a,"YRUHQSLDPXNGOKMIEBFZCWVJAT"),a=e.rotor(a,n[0]+8,r[0]-o[0]),a=e.rotor(a,n[1]+8,r[1]-o[1]),a=e.rotor(a,n[2]+8,r[2]-o[2]),e.simplesub(a,i)},e.incrementSettings=function(t,e){var r=t,n=[[16,16],[4,4],[21,21],[9,9],[25,25],[25,12],[25,12],[25,12]];return r[1]!==n[e[1]][0]&&r[1]!==n[e[1]][1]||(r[0]=(r[0]+1)%26,r[1]=(r[1]+1)%26),r[2]!==n[e[2]][0]&&r[2]!==n[e[2]][1]||(r[1]=(r[1]+1)%26),r[2]=(r[2]+1)%26,r},e.simplesub=function(t,r){return r.charAt(e.code(t))},e.rotor=function(t,r,n){var o=(e.code(t)+26+n)%26,i=(e.code(["EKMFLGDQVZNTOWYHXUSPAIBRCJ","AJDKSIRUXBLHWTMCQGZNPYFVOE","BDFHJLCPRTXVZNYEIWGAKMUSQO","ESOVPZJAYQUIRHXLNFTGKDCMWB","VZBRGITYUPSDNHLXAWMJQOFECK","JPGVOUMFYQBENHZRDKASXLICTW","NZJHGRCXMYSWBOUFAIVLPEKQDT","FKQHTLXOCBJSPDZRAMEWNIUYGV","UWYGADFPVZBECKMTHXSLRINQOJ","AJPCZWRLFBDKOTYUQGENHXMIVS","TAGBPCSDQEUFVNZHYIXJWLRKOM","HZWVARTNLGUPXQCEJMBSKDYOIF","QCYLXWENFTZOSMVJUDKGIARPHB","SKXQLHCNWARVGMEBJPTYFDZUIO","QMGYVPEDRCWTIANUXFKZOSLHJB","QJINSAYDVKBFRUHMCPLEWZTGXO"][r].charAt(o))+26-n)%26+65;return String.fromCharCode(i)},e.code=function(t){return t.toUpperCase().charCodeAt(0)-65},e.message=t.toUpperCase(),e.keySettings=r,e.ringSettings=i,e.plugboardSettings=a,e.rotorSettings=c,e}return o}(n);function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vt(t,e){return vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vt(t,e)}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=mt(n);if(o){var a=mt(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return e=this,!(r=t)||"object"!==bt(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r});function a(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t,n,"vigenere",r,"",o)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;if(l.validateMessage(t),l.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,c=0;c<n.length;c+=1){var u=n[c];if(/[A-Z]/.test(u)){var f=u.charCodeAt(0)-65,s=e.getShift(o[a%o.length]);i+=String.fromCharCode((f+s)%26+65),a+=1}else i+=u}return i},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;if(l.validateMessage(t),l.validateKey(r,"string"),!r||0===r.length)throw new Error("Vigenere cipher requires a non-empty keyword");for(var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i="",a=0,c=0;c<n.length;c+=1){var u=n[c];if(/[A-Z]/.test(u)){var f=u.charCodeAt(0)-65,s=e.getShift(o[a%o.length]);i+=String.fromCharCode((f-s+26)%26+65),a+=1}else i+=u}return i},e}return e=a,(r=[{key:"getShift",value:function(t){return t.toUpperCase().charCodeAt(0)-65}}])&&gt(e.prototype,r),a}(n);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ct(t,e){return Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ct(t,e)}function Et(t){return Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Et(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ct(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=Et(n);if(o){var a=Et(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return e=this,!(r=t)||"object"!==wt(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r});function a(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t,o,"quagmire1",r,"",c)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;if(l.validateMessage(t),l.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=e.generateCipherAlphabet(r),a="",c=0,u=0;u<n.length;u+=1){var f=n[u];/[A-Z]/.test(f)?(a+=i[(f.charCodeAt(0)-65+e.getShift(o[c%o.length]))%26],c+=1):a+=f}return a},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;if(l.validateMessage(t),l.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire I cipher requires a non-empty keyword");for(var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=e.generateCipherAlphabet(r),a="",c=0,u=0;u<n.length;u+=1){var f=n[u];if(/[A-Z]/.test(f)){var s=e.getShift(o[c%o.length]),p=i.indexOf(f);if(-1!==p){var y=(p-s+26)%26;a+=String.fromCharCode(y+65)}else a+=f;c+=1}else a+=f}return a},e.cipherAlphabet=n||"ABCDEFGHIJKLMNOPQRSTUVWXYZ",e}return e=a,(r=[{key:"generateCipherAlphabet",value:function(t){if(this.cipherAlphabet&&26===this.cipherAlphabet.length)return this.cipherAlphabet.toUpperCase();var e,r=t.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.has(a)||(o+=a,n.add(a))}}catch(t){i.e(t)}finally{i.f()}for(var c=65;c<=90;c++){var u=String.fromCharCode(c);n.has(u)||(o+=u)}return o}},{key:"getShift",value:function(t){return t.toUpperCase().charCodeAt(0)-65}}])&&At(e.prototype,r),a}(n);function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function _t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pt(t,e){return Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pt(t,e)}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=kt(n);if(o){var a=kt(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return e=this,!(r=t)||"object"!==Rt(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r});function a(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t,o,"quagmire2",r,"",c)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;if(l.validateMessage(t),l.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(e.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",c=0,u=0;u<n.length;u+=1){var f=n[u];if(/[A-Z]/.test(f)){var s=i[c%i.length];a+=e.generateCipherAlphabet(s)[(f.charCodeAt(0)-65+e.getShift(o[c%o.length]))%26],c+=1}else a+=f}return a},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.key;if(l.validateMessage(t),l.validateKey(r,"string"),!r||0===r.length)throw new Error("Quagmire II cipher requires a non-empty keyword");for(var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,""),i=(e.indicator||"A").toUpperCase().replace(/[^A-Z]/g,""),a="",c=0,u=0;u<n.length;u+=1){var f=n[u];if(/[A-Z]/.test(f)){var s=i[c%i.length],p=e.generateCipherAlphabet(s),y=e.getShift(o[c%o.length]),h=p.indexOf(f);if(-1!==h){var d=(h-y+26)%26;a+=String.fromCharCode(d+65)}else a+=f;c+=1}else a+=f}return a},e.indicator=n||"A",e}return e=a,r=[{key:"generateCipherAlphabet",value:function(t){for(var e=t.toUpperCase().charCodeAt(0)-65,r="",n=0;n<26;n++){var o=(n+e)%26;r+=String.fromCharCode(o+65)}return r}},{key:"getShift",value:function(t){return t.toUpperCase().charCodeAt(0)-65}}],r&&_t(e.prototype,r),a}(n);function It(t){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(t)}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xt(t,e){return xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xt(t,e)}function Kt(t){return Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kt(t)}function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zt(t,e){return Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zt(t,e)}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}const qt={Vigenere:St,Quagmire1:jt,Quagmire2:Tt,Quagmire3:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=Kt(n);if(o){var a=Kt(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return e=this,!(r=t)||"object"!==It(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r});function a(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"KEY",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t,o,"quagmire3",r,"",c)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.indicator;if(l.validateMessage(t),l.validateKey(e.key,"string"),l.validateKey(r,"string"),!e.key||0===e.key.length)throw new Error("Quagmire III cipher requires a non-empty keyword");var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,c=0;c<n.length;c++){var u=n[c];if(/[A-Z]/.test(u)){var f=e.indexInKeyed(u),s=o[a%o.length],p=e.indexInKeyed(s);if(-1===f||-1===p)i+=u;else{var y=(f+p)%26;i+=e.keyedAlphabet[y],a++}}else i+=u}return i},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.indicator;l.validateMessage(t),l.validateKey(e.key,"string"),l.validateKey(r,"string");var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire III cipher requires a non-empty indicator key");for(var i="",a=0,c=0;c<n.length;c++){var u=n[c];if(/[A-Z]/.test(u)){var f=e.indexInKeyed(u),s=o[a%o.length],p=e.indexInKeyed(s);if(-1===f||-1===p)i+=u;else{var y=(f-p+26)%26;i+=e.keyedAlphabet[y],a++}}else i+=u}return i},e.indicator=n||"KEY",e.keyedAlphabet=e.buildKeyedAlphabet(r),e}return e=a,(r=[{key:"buildKeyedAlphabet",value:function(t){var e,r=t.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.has(a)||(n.add(a),o+=a)}}catch(t){i.e(t)}finally{i.f()}for(var c=0;c<26;c++){var u=String.fromCharCode(65+c);n.has(u)||(n.add(u),o+=u)}return o}},{key:"indexInKeyed",value:function(t){return this.keyedAlphabet.indexOf(t.toUpperCase())}}])&&Mt(e.prototype,r),a}(n),Quagmire4:function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,r,i=Qt(n);if(o){var a=Qt(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return e=this,!(r=t)||"object"!==Ut(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e):r});function a(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KEY",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ABC",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t,c,"quagmire4",r,"",u)).encode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.indicator;if(l.validateMessage(t),l.validateKey(e.key,"string"),l.validateKey(r,"string"),!e.key||0===e.key.length)throw new Error("Quagmire IV cipher requires a non-empty keyword");var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,c=0;c<n.length;c++){var u=n[c];if(/[A-Z]/.test(u)){var f=e.indexInKeyed(u),s=o[a%o.length],p=e.indexInKeyed(s);if(-1===f||-1===p)i+=u;else{var y=(f+p)%26;i+=e.cipherKeyedAlphabet[y],a++}}else i+=u}return i},e.decode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.message,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.indicator;l.validateMessage(t),l.validateKey(e.key,"string"),l.validateKey(r,"string");var n=t.toUpperCase(),o=r.toUpperCase().replace(/[^A-Z]/g,"");if(!o.length)throw new Error("Quagmire IV cipher requires a non-empty indicator key");for(var i="",a=0,c=0;c<n.length;c++){var u=n[c];if(/[A-Z]/.test(u)){var f=e.indexInCipherKeyed(u),s=o[a%o.length],p=e.indexInKeyed(s);if(-1===f||-1===p)i+=u;else{var y=(f-p+26)%26;i+=e.keyedAlphabet[y],a++}}else i+=u}return i},e.indicator=n||"ABC",e.cipherAlphabet=o||"",e.keyedAlphabet=e.buildKeyedAlphabet(r),e.cipherKeyedAlphabet=e.buildCipherKeyedAlphabet(r),e}return e=a,(r=[{key:"buildKeyedAlphabet",value:function(t){var e,r=t.toUpperCase().replace(/[^A-Z]/g,""),n=new Set,o="",i=function(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;n.has(a)||(n.add(a),o+=a)}}catch(t){i.e(t)}finally{i.f()}for(var c=0;c<26;c++){var u=String.fromCharCode(65+c);n.has(u)||(n.add(u),o+=u)}return o}},{key:"buildCipherKeyedAlphabet",value:function(t){return this.cipherAlphabet&&26===this.cipherAlphabet.length?this.cipherAlphabet.toUpperCase():this.buildKeyedAlphabet(t)}},{key:"indexInKeyed",value:function(t){return this.keyedAlphabet.indexOf(t.toUpperCase())}},{key:"indexInCipherKeyed",value:function(t){return this.cipherKeyedAlphabet.indexOf(t.toUpperCase())}}])&&Lt(e.prototype,r),a}(n)};var Vt=function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getTestMessage=function(t){return e.testMessages[t]},this.getChar=function(t){return e.alphabet[t]},this.setChar=function(t,r){return e.alphabet[t]=r,e.processMessage()},this.resetAlphabet=function(){return Object.keys(e.alphabet).map(function(t,r){return e.alphabet[t]=t}),e.processMessage()},this.swapChar=function(t,r){var n=e.alphabet[t];return e.alphabet[t]=e.alphabet[r],e.alphabet[r]=n,e.processMessage()},this.setByFrequency=function(){var t=e.sortProperties(e.freqAnalysis(e.message)),r=e.sortProperties(e.getSLFreq()),n=0;do{e.setChar(String(r[n][0]).toLowerCase(),String(t[n][0]).toLowerCase()),n+=1}while(n<t.length-1);return e.processMessage()},this.processMessage=function(){var t="";return e.message.split("").forEach(function(r){var n=e.alphabet[r];t+=""!==n?n:"?"}),t},this.getSLFreq=function(){return o},this.getS2Freq=function(){return i},this.getS3Freq=function(){return a},this.getS4Freq=function(){return c},this.freqAnalysis=function(){var t={},e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("");e.forEach(function(e){e in t?t[e]+=1:t[e]=1});var r=e.length;return Object.keys(t).forEach(function(e){var n=t[e];t[e]=parseFloat((n/r*100).toFixed(3))}),t},this.sortProperties=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",r=[];return t.forEach(function(e){r.push([e,t[e]])}),"asc"===e?r.sort(function(t,e){return t[1]-e[1]}):r.sort(function(t,e){return e[1]-t[1]}),r},this.testMessages=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","Las dos jornadas tuvieron un denominador común: insistir, y mucho, en educar en temas financieros, a los efectos de que la gente tenga claro cuáles son las ventajas y riesgos a los que se enfrenta.","Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus suscipit velit vitae vulputate. Vivamus vel tempus lacus. Fusce dictum, leo id porttitor dapibus, leo diam rutrum nulla, ut feugiat","La posición de Washington hacia las elecciones en Palestina ha sido coherente. Las elecciones fueron postergadas hasta la muerte de Yasser Arafat, que fue recibida como una oportunidad para la realización  "],this.message=r,this.alphabet={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"," ":" ",".":".",",":",","?":"?","!":"!"}};return e})());